<!doctype html>
<html lang="en-GB" dir="ltr" class="blog-wrapper blog-tags-post-list-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-rc.1">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="HwameiStor RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="HwameiStor Atom Feed"><title data-rh="true">2 posts tagged with &quot;Test&quot; | HwameiStor</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://hwameistor.io /blog/tags/test"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:title" content="2 posts tagged with &quot;Test&quot; | HwameiStor"><meta data-rh="true" name="docusaurus_tag" content="blog_tags_posts"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_tags_posts"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://hwameistor.io /blog/tags/test"><link data-rh="true" rel="alternate" href="https://hwameistor.io /blog/tags/test" hreflang="en-GB"><link data-rh="true" rel="alternate" href="https://hwameistor.io /cn/blog/tags/test" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://hwameistor.io /blog/tags/test" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.e7f5cffe.css">
<link rel="preload" href="/assets/js/runtime~main.f83a4526.js" as="script">
<link rel="preload" href="/assets/js/main.0e26bc04.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo_dark.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">HwameiStor</b></a><a class="navbar__item navbar__link" href="/docs/intro">Documentation</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/blog/tags/test" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active">English</a></li><li><a href="/cn/blog/tags/test" target="_self" rel="noopener noreferrer" class="dropdown__link">中文</a></li></ul></div><a href="https://github.com/hwameistor/hwameistor" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/minio">HwameiStor 对 Minio 的支持</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/live">Livestream Highlights: Cloud Native Storage</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/test">HwameiStor Capability, Security, Operation, and Maintenance Test</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/3">LV and LVReplica</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2">Reliable Helper System for HwameiStor Is Online</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><header class="margin-bottom--xl"><h1>2 posts tagged with &quot;Test&quot;</h1><a href="/blog/tags">View All Tags</a></header><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/minio">HwameiStor 对 Minio 的支持</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2202-07-16T00:00:00.000Z" itemprop="datePublished">July 16, 2202</time> · <!-- -->8 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/zhaosimon" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/36882380?v=4" alt="zhaosimon"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/zhaosimon" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">zhaosimon</span></a></div><small class="avatar__subtitle" itemprop="description">Developer</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><ol><li>MinIO简介<ol><li>功能特性</li></ol></li></ol><p>MinIO是一款高性能，分布式，兼容S3的多云对象存储系统套件。由于原生支持kubernetes，MinIO支持所有的公有云，私有云及边缘计算环境。 MinIO是GNU AGPL v3开源的软件定义产品能够很好地运行在标准硬件如X86等设备上·。</p><p><code>        </code><img loading="lazy" alt="../Desktop/屏幕快照%202022-06-17%20上午6.25.12.png" src="/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.001-50c5ded4364db203250dc5f007b8f613.png" width="245" height="219" class="img_ev3q"></p><p>MinIO的架构设计从一开始就是针对对性能要求很高的私有云标准，在实现对象存储所需要的全部功能的基础上追求极致的性能。MinIO具备易用性，高效性及高性能，能够以更简单的方式提供具有弹性伸缩能力的云原生对象存储服务。</p><p>MinIO在传统对象存储场景（如辅助存储，灾难恢复和归档）方面表现出色，同时在机器学习、大数据、私有云、混合云等方面的存储技术上也独树一帜，包括数据分析、高性能应用负载、原生云应用。</p><ol><li>架构设计</li></ol><p>MinIOn为云原生架构设计，可以作为轻量级容器运行并由外部编排服务如Kubernetes管理。MinIO整个服务包约为不到100 MB的静态二进制文件，即使在很高负载下也可以高效利用CPU和内存资源并可以在共享硬件上共同托管大量租户。对应的架构图如下：</p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-06-17%20上午6.48.22.png" src="/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.002-1be806421c76c1b27546bb0ebdb50ede.png" width="553" height="340" class="img_ev3q"></p><p>MinIO可以在带有本地驱动器（JBOD / JBOF）的标准服务器上运行。集群为完全对称的体系架构，即所有服务器的功能均相同，没有名称节点或元数据服务器。</p><p>MinIO将数据和元数据作为对象一起写入从而无需使用元数据数据库。MinIO以内联，严格一致的操作执行所有功能包括擦除代码，位rotrot检查，加密等。</p><p>每个MinIO群集都是分布式MinIO服务器的集合，每个节点一个进程。 MinIO作为单个进程在用户空间中运行，并使用轻量级的协同例程来实现高并发。将驱动器分组到擦除集（默认情况下，每组16个驱动器），然后使用确定性哈希算法将对象放置在这些擦除集上。</p><p>MinIO专为大规模，多数据中心云存储服务而设计。每个租户都运行自己的MinIO群集，该群集与其他租户完全隔离，从而使他们能够保护他们免受升级，更新和安全事件的任何干扰。每个租户通过联合跨地理区域的集群来独立扩展。</p><ol><li>测试环境<ol><li>kubernetes集群</li></ol></li></ol><p>本次测试使用了三台虚拟机节点部署了kubernetes集群：1 master + 2 work nodes，kubelete版本为1.22.0</p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-05%20下午4.06.08.png" src="/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.003-2e9998ffef1d3a00bad3b7e3a164e4ff.png" width="553" height="117" class="img_ev3q"></p><ol><li>hwameiStor本地存储</li></ol><p>在kubernetes上部署了hwameiStor本地存储</p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-05%20下午4.08.19.png" src="/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.004-0cd9b8d67e92c776b7bcd8b348f70496.png" width="553" height="87" class="img_ev3q"></p><p>两台work节点各配置了五块磁盘sdb/sdc/sdd/sde/sdf用于hwameiStor本地磁盘管理。</p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-05%20下午4.10.54.png" src="/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.005-1b81d8560261b1885437ed9fb82481cc.png" width="553" height="192" class="img_ev3q">	<img loading="lazy" alt="../Desktop/屏幕快照%202022-07-05%20下午4.10.24.png" src="/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.006-9d75cd284b90f360762e7b6b4003f1fe.png" width="553" height="147" class="img_ev3q"></p><p>local storage node状态				   <img loading="lazy" alt="../Desktop/屏幕快照%202022-07-11%20上午8.05.38.png" src="/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.007-9655d5b584e42874a92047354ff54c15.png" width="553" height="67" class="img_ev3q"></p><p>创建了storagClass<img loading="lazy" alt="../Desktop/屏幕快照%202022-07-05%20下午4.13.47.png" src="/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.008-860a03c344d7d8b2e26157ca5f6730a9.png" width="553" height="48" class="img_ev3q"></p><ol><li>分布式多租户源码部署安装（minio operator）<ol><li>部署minio operator</li></ol></li></ol><p>复制minio operator仓库到本地</p><p>git clone <a href="https://github.com/minio/operator.git" target="_blank" rel="noopener noreferrer">https://github.com/minio/operator.git</a></p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-11%20上午7.12.37.png" src="/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.009-f96e598528d3d564bcbb129221360620.png" width="538" height="50" class="img_ev3q"></p><p><img loading="lazy" src="/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.010-2d0c847e0ae10e022f408516d0b15c46.png" width="554" height="47" class="img_ev3q"></p><p>进入helm operator目录</p><p>/root/operator/helm/operator</p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-19%20上午8.27.07.png" src="/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.011-177620b3543a6e3211f2ada8d9af1893.png" width="448" height="119" class="img_ev3q"></p><p>部署minio-operator实例</p><p>helm install minio-operator \</p><p>--namespace minio-operator \</p><p>--create-namespace \</p><p>--generate-name .</p><p>--set persistence.storageClass=local-storage-hdd-lvm .</p><p>检查minio-operator资源运行情况</p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-19%20上午8.29.44.png" src="/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.012-026455ec24122121ef5763df0c6f1d71.png" width="553" height="252" class="img_ev3q"></p><ol><li><code>	</code>创建租户</li></ol><p>进入/root/operator/examples/kustomization/base目录</p><p>修改tenant.yaml如下</p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-20%20上午7.42.14.png" src="/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.013-7ae47ae03222e56b47635aea676dc294.png" width="553" height="489" class="img_ev3q"></p><p>进入/root/operator/helm/tenant/目录</p><p>修改values.yaml文件如下</p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-20%20上午7.48.34.png" src="/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.014-4a948a45aba4b18a76b4938e24b0dfe7.png" width="553" height="576" class="img_ev3q"></p><p>进入/root/operator/examples/kustomization/tenant-lite目录</p><p>修改kustomization.yaml文件如下：</p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-20%20上午7.52.31.png" src="/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.015-0ad007bd15ea443b07d8366fb2eb65bd.png" width="553" height="249" class="img_ev3q"></p><p>修改tenant.yaml文件如下：</p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-20%20上午7.52.47.png" src="/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.016-24937bd8e84cfb6f82a3d4c61f3cb5ff.png" width="553" height="266" class="img_ev3q"></p><p>修改tenantNamePatch.yaml文件如下</p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-20%20上午7.53.00.png" src="/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.017-4b8be598ff292c9492f86640650d8a0c.png" width="553" height="125" class="img_ev3q"></p><p>创建租户：</p><p>kubectl apply –f ./tenant.yaml </p><p>检查租户资源状态：</p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-20%20上午10.11.24.png" src="/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.018-497b2e2eab8bb4d29b3de1c0b1a6dd7b.png" width="553" height="322" class="img_ev3q"></p><ol><li><code>	</code>HwameiStor本地卷配置</li></ol><p>kubectl get statefulset.apps/minio-t1-pool-0 -nminio-tenant -oyaml</p><p><img loading="lazy" src="/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.019-214813a44eb9b94a4a7c12b592bdca77.png" width="437" height="382" class="img_ev3q"></p><p>kubectl get pvc –A</p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-20%20上午10.06.53.png" src="/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.020-b00f37660c7a43e7a79d9fdb12116a6b.png" width="553" height="105" class="img_ev3q"></p><p>kubectl get pvc export-minio6-0 -nminio-6 -oyaml</p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-11%20上午7.58.00.png" src="/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.021-bd9d6c3aea26b5e4217bb163f26b68f9.png" width="553" height="371" class="img_ev3q"></p><p>kubectl get pv           </p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-20%20上午10.07.25.png" src="/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.022-d6a7f8f8d6abe20eb23588513908066d.png" width="553" height="85" class="img_ev3q"></p><p>kubectl get pvc data0-minio-t1-pool-0-0 -nminio-tenant -oyaml</p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-20%20上午10.18.49.png" src="/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.023-71f7f2ebc33ee977d2c399425bab30bd.png" width="553" height="448" class="img_ev3q"></p><p>kubectl get lv</p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-20%20上午10.07.57.png" src="/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.024-b1a03ec396f97f755f15ad387225c38a.png" width="553" height="95" class="img_ev3q"></p><p>kubect get lvr</p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-20%20上午10.08.14.png" src="/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.025-aa5334390dd09d70b369178e2a40df54.png" width="553" height="86" class="img_ev3q"></p><ol><li>HwameiStor与MinIo测试验证<ol><li><code>	</code>基本功能测试</li></ol></li></ol><p>登录minio console：10.6.163.52:30401/login</p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-11%20上午8.15.59.png" src="/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.026-7fe8a9423e110af4be66c81f1c6c7c06.png" width="553" height="307" class="img_ev3q"></p><p>用户名：XulV2mOJh9DKn3F95fdq</p><p>密码：PkXqxUJFZ8QYby2ZAVbeXQ9KW4ZAkdXH67HX2msx</p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-11%20上午8.17.57.png" src="/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.027-1132310465ce7b8992fd73140f2299d5.png" width="553" height="294" class="img_ev3q"></p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-11%20上午8.18.28.png" src="/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.028-136ade26e1a82e85a3ff0e204f39e383.png" width="553" height="306" class="img_ev3q"></p><p>创建bucket</p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-11%20上午9.46.02.png" src="/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.029-33fe425b8ba57c3d5ce982156e7cab85.png" width="553" height="367" class="img_ev3q"></p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-11%20上午9.46.11.png" src="/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.030-dd62f23cb98649c36f31ac3231902221.png" width="553" height="150" class="img_ev3q"></p><p>创建path</p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-11%20上午9.46.32.png" src="/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.012-026455ec24122121ef5763df0c6f1d71.png" width="553" height="252" class="img_ev3q"></p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-11%20上午9.46.44.png" src="/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.031-11ad874e87f91ae3dcc316bdfd0ac7e3.png" width="553" height="156" class="img_ev3q"></p><p>上传文件</p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-11%20上午9.47.58.png" src="/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.032-a5ff19f28f1ef891c40393d3934293cc.png" width="553" height="159" class="img_ev3q"></p><p><code>   </code>创建用户</p><p><code>	</code><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-11%20下午2.05.25.png" src="/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.033-338beb5bfd016642c4884b65927be24f.png" width="510" height="245" class="img_ev3q"></p><p><code>  </code><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-11%20下午2.08.18.png" src="/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.034-1fa3e7c60dd80b1b5d067c9df64faa6b.png" width="416" height="245" class="img_ev3q"></p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-11%20下午2.08.27.png" src="data:image/png;base64,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" width="462" height="144" class="img_ev3q"> </p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-11%20下午2.08.38.png" src="data:image/png;base64,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" width="473" height="181" class="img_ev3q"></p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-13%20上午6.08.09.png" src="/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.037-b45fb9385e569f8c2c2998538bcac4d0.png" width="552" height="189" class="img_ev3q"></p><p>用户policy</p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-13%20上午6.16.35.png" src="/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.038-3771386839568dc2deb08e56c115747e.png" width="553" height="243" class="img_ev3q"></p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-13%20上午6.16.53.png" src="/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.039-a79266fc26ad7e971516ae6a1c294428.png" width="553" height="209" class="img_ev3q"></p><p><code>	</code>删除bucket</p><p><code>	</code><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-13%20上午5.59.16.png" src="/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.040-a2503c2dfc8f1392745aa70ed19745e4.png" width="553" height="270" class="img_ev3q"></p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-13%20上午5.59.36.png" src="/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.041-0f5e71536ecda7b0540336b7d987ad8f.png" width="553" height="289" class="img_ev3q"></p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-13%20上午5.59.48.png" src="/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.042-5fb901f06242ca3307fa207796212df2.png" width="553" height="225" class="img_ev3q"></p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-13%20上午6.00.36.png" src="/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.043-5b62af0b0a2f022d5187434c522b21aa.png" width="553" height="214" class="img_ev3q"></p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-13%20上午6.00.46.png" src="/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.044-371d2ab810ec260df0f6416b94a77fe9.png" width="553" height="262" class="img_ev3q"></p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-13%20上午6.01.18.png" src="/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.045-3c3ef1e74e3b2b8dbf7abeb04cfa9243.png" width="553" height="210" class="img_ev3q"></p><ol start="4"><li>结论</li></ol><p>本次测试是在kubernetes 1.22平台上部署了minio分布式对象存储并对接hwameiStor本地存储。在此环境中完成了基本能力测试，系统安全测试及运维管理测试。</p><p>全部测试通过。</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/test">Test</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/test">HwameiStor Capability, Security, Operation, and Maintenance Test</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-06-06T00:00:00.000Z" itemprop="datePublished">June 6, 2022</time> · <!-- -->15 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/zhaosimon" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/36882380?v=4" alt="zhaosimon"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/zhaosimon" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">zhaosimon</span></a></div><small class="avatar__subtitle" itemprop="description">Developer</small></div></div></div><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/windsonsea" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/windsonsea.png" alt="Michael Yao"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/windsonsea" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Michael Yao</span></a></div><small class="avatar__subtitle" itemprop="description">Technical Writer</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>This test environment is Kubernetes 1.22. We deployed TiDB 1.3 after the HwameiStor local storage is attached. Then, we performed the basic SQL capability test, system security test, and operation and maintenance management test.</p><p>All the tests passed successfully, it is acknowledged that HwameiStor can support distributed database application scenarios such as TiDB with high availability, strong consistency requirements, and large data scale.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction-to-tidb">Introduction to TiDB<a class="hash-link" href="#introduction-to-tidb" title="Direct link to heading">​</a></h2><p>TiDB is a distributed database product that supports OLTP (Online Transactional Processing), OLAP (Online Analytical Processing), and HTAP (Hybrid Transactional and Analytical Processing) services, compatible with key features such as MySQL 5.7 protocol and MySQL ecosystem. The goal of TiDB is to provide users with one-stop OLTP, OLAP, and HTAP solutions, which are suitable for various application scenarios such as high availability, strict requirements for strong consistency, and large data scale.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tidb-architecture">TiDB architecture<a class="hash-link" href="#tidb-architecture" title="Direct link to heading">​</a></h3><p>The TiDB distributed database splits the overall architecture into multiple modules that can communicate with each other. The architecture diagram is as follows:</p><p><img loading="lazy" alt="TiDB architecture" src="/assets/images/architecture-2a3f12e542dfbb4545e4e20e4da92010.png" width="1046" height="500" class="img_ev3q"></p><ul><li><p><strong>TiDB Server</strong></p><p>The SQL layer exposes the connection endpoints of the MySQL protocol to the outside world, and is responsible for accepting connections from clients, performing SQL parsing and optimization and finally generating a distributed execution plan. The TiDB layer itself is stateless. In practice, you can start several TiDB instances. A unified access address is provided externally through load-balance components (such as LVS, HAProxy, or F5), and client connections can be evenly distributed on to these TiDB instances. The TiDB server itself does not store data, but only parses SQL and forwards the actual data read request to the underlying storage node, TiKV (or TiFlash).</p></li><li><p><strong>PD (Placement Driver) Server</strong></p><p>The metadata management module across a TiDB cluster is responsible for storing the real-time data distribution of each TiKV node and the overall topology of the cluster, providing the TiDB Dashboard management and control interface, and assigning transaction IDs to distributed transactions. Placement Driver (PD) not only stores metadata, but also issues data scheduling commands to specific TiKV nodes based on the real-time data distribution status reported by TiKV nodes, which can be said to be the &quot;brain&quot; of the entire cluster. In addition, the PD itself is also composed of at least 3 nodes and has high availability capabilities. It is recommended to deploy an odd number of PD nodes.</p></li><li><p><strong>Storage nodes</strong></p><ul><li><p>TiKV Server: In charge of storing data. From the outside, TiKV is a distributed Key-Value storage engine that provides transactions. The basic unit for storing data is Region. Each Region is responsible for storing the data of a Key Range (the block between left-closed and right-open from StartKey to EndKey). Each TiKV node is responsible for multiple Regions. TiKV API provides native support for distributed transactions at the KV key-value pair level, and provides the levels of Snapshot Isolation (SI) by default, which is also the core of TiDB&#x27;s support for distributed transactions at the SQL level. After the SQL layer of TiDB completes the SQL parsing, it will convert the SQL execution plan into the actual call to the TiKV API. Therefore, the data is stored in TiKV. In addition, the TiKV data will be automatically maintained in multiple replicas (the default is three replicas), which naturally supports high availability and automatic failover.</p></li><li><p>TiFlash is a special storage node. Unlike ordinary TiKV nodes, data is stored in columns in TiFlash, and the main function is to accelerate analysis-based scenarios.</p></li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tidb-database-storage">TiDB database storage<a class="hash-link" href="#tidb-database-storage" title="Direct link to heading">​</a></h3><p><img loading="lazy" alt="TiDB database storage" src="/assets/images/storage-a293b3e63ad176d606e42501e0048276.png" width="1923" height="1779" class="img_ev3q"></p><ul><li><p><strong>Key-Value Pair</strong></p><p>The choice of TiKV is the Key-Value model that provides an ordered traversal method. Two key points of TiKV data storage are:</p><ul><li><p>A huge Map (comparable to std::map in C++) that stores Key-Value Pairs.</p></li><li><p>The Key-Value pairs in this Map are sorted by the binary order of the Key, that is, you can seek to the position of a certain Key, and then continuously call the Next method to obtain the Key-Value larger than this Key in an ascending order.</p></li></ul></li><li><p><strong>Local storage (Rocks DB)</strong></p><p>In any persistent storage engine, data must be saved on disk after all, and TiKV is not different. However, TiKV does not choose to write data directly to the disk, but stores the data in RocksDB, and RocksDB is responsible for the specific data storage. The reason is that developing a stand-alone storage engine requires a lot of work, especially to make a high-performance stand-alone engine, which may require various meticulous optimizations. RocksDB is a very good stand-alone KV storage engine open sourced by Facebook. It can meet various requirements of TiKV for single engine. Here we can simply consider that RocksDB is a persistent Key-Value Map on a host.</p></li><li><p><strong>Raft protocol</strong></p><p>TiKV uses the Raft algorithm to ensure that data is not lost and error-free when a single host fails. In short, it is to replicate data to multiple hosts, so that if one host cannot provide services, replicas on other hosts can still provide services. This data replication scheme is reliable and efficient, and can deal with replica failures.</p></li><li><p><strong>Region</strong></p><p>TiKV divides the Range by Key. A certain segment of consecutive Keys are stored on a storage node. Divide the entire Key-Value space into many segments, each segment is a series of consecutive Keys, called a Region. Try to keep the data saved in each Region within a reasonable size. Currently, the default in TiKV is no more than 96 MB. Each Region can be described by a left-closed and right-open block such as <!-- -->[StartKey, EndKey]<!-- -->.</p></li><li><p><strong>MVCC</strong></p><p>TiKV implements Multi-Version Concurrency Control (MVCC).</p></li><li><p><strong>Distributed ACID transactions</strong></p><p>TiKV uses the transaction model used by Google in BigTable: Percolator.</p></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="build-the-test-environment">Build the test environment<a class="hash-link" href="#build-the-test-environment" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kubernetes-cluster">Kubernetes cluster<a class="hash-link" href="#kubernetes-cluster" title="Direct link to heading">​</a></h3><p>In this test, we use three VM nodes to deploy the Kubernetes cluster, including one master node and two worker nodes. Kubelete version is 1.22.0.</p><p><img loading="lazy" alt="k8s cluster" src="/assets/images/k8scluster-109d22938707ca1088d83020079a39da.png" width="1923" height="410" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="hwameistor-local-storage">HwameiStor local storage<a class="hash-link" href="#hwameistor-local-storage" title="Direct link to heading">​</a></h3><ol><li><p>Deploy the HwameiStor local storage in the Kubernetes cluster</p><p><img loading="lazy" alt="HwameiStor local storage" src="/assets/images/hwameistor-b1534b2445747773ba035b59d9a2e4d9.png" width="900" height="383" class="img_ev3q"></p></li><li><p>Configure a 100G local disk, sdb, for HwameiStor on two worker nodes respectively</p><p><img loading="lazy" alt="sdb1" src="/assets/images/sdb1-4d636d1f52a5d9c0c62e6850b5144a43.png" width="1156" height="266" class="img_ev3q"></p><p><img loading="lazy" alt="sdb2" src="/assets/images/sdb2-3ced8000888d850b499d6265ae87f496.png" width="2006" height="790" class="img_ev3q"></p></li><li><p>Create StorageClass</p><p><img loading="lazy" alt="create StorageClass" src="/assets/images/storageclass-63ede689f512ecd9ee5424ca6f7da52a.png" width="2175" height="182" class="img_ev3q"></p></li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="deploy-tidb-on-kubernetes">Deploy TiDB on Kubernetes<a class="hash-link" href="#deploy-tidb-on-kubernetes" title="Direct link to heading">​</a></h3><p>TiDB can be deployed on Kubernetes using TiDB Operator. TiDB Operator is an automatic operation and maintenance system for TiDB clusters on Kubernetes. It provides full lifecycle management of TiDB including deployment, upgrade, scaling, backup and recovery, and configuration changes. With TiDB Operator, TiDB can run seamlessly on public cloud or privately deployed Kubernetes clusters.</p><p>The compatibility between TiDB and TiDB Operator versions is as follows:</p><table><thead><tr><th>TiDB  version</th><th>Applicable versions of TiDB Operator</th></tr></thead><tbody><tr><td>dev</td><td>dev</td></tr><tr><td>TiDB  &gt;= 5.4</td><td>1.3</td></tr><tr><td>5.1  &lt;= TiDB &lt; 5.4</td><td>1.3 (recommended), 1.2</td></tr><tr><td>3.0  &lt;= TiDB &lt; 5.1</td><td>1.3 (recommended), 1.2, 1.1</td></tr><tr><td>2.1  &lt;= TiDB &lt; 3.0</td><td>1.0 (maintenance stopped)</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="deploy-tidb-operator">Deploy TiDB Operator<a class="hash-link" href="#deploy-tidb-operator" title="Direct link to heading">​</a></h4><ol><li><p>Install TiDB CRDs</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f https://raw.githubusercontent.com/pingcap/tidb-operator/master/manifests/crd.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>Install TiDB Operator</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">helm repo </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> pingcap https://charts.pingcap.org/ </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl create namespace tidb-admin </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">helm </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> --namespace tidb-admin tidb-operator pingcap/tidb-operator --version v1.3.2 </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--set </span><span class="token assign-left variable" style="color:#36acaa">operatorImage</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">registry.cn-beijing.aliyuncs.com/tidb/tidb-operator:v1.3.2 </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--set </span><span class="token assign-left variable" style="color:#36acaa">tidbBackupManagerImage</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">registry.cn-beijing.aliyuncs.com/tidb/tidb-backup-manager:v1.3.2 </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--set scheduler.kubeSchedulerImageName</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">registry.cn-hangzhou.aliyuncs.com/google_containers/kube-scheduler</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>Check TiDB Operator components</p><p><img loading="lazy" alt="check TiDB Operator components" src="/assets/images/check-ab733dc3ff2b22eb313f91d9095bb2cb.png" width="2505" height="207" class="img_ev3q"></p></li></ol><h4 class="anchor anchorWithStickyNavbar_LWe7" id="deploy-the-tidb-cluster">Deploy the TiDB cluster<a class="hash-link" href="#deploy-the-tidb-cluster" title="Direct link to heading">​</a></h4><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl create namespace tidb-cluster </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl -n tidb-cluster apply -f https://raw.githubusercontent.com/pingcap/tidb-operator/master/examples/basic/tidb-cluster.yaml </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl -n tidb-cluster apply -f https://raw.githubusercontent.com /pingcap/tidb-operator/master/examples/basic/tidb-monitor.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="deploy TiDB cluster" src="/assets/images/deploytidb-a91346d128e05f23ae69c262e62c9227.png" width="2498" height="354" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="connect-the-tidb-cluster">Connect the TiDB cluster<a class="hash-link" href="#connect-the-tidb-cluster" title="Direct link to heading">​</a></h4><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">yum -y </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> mysql-client</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="connect tidb" src="/assets/images/connecttidb-a7581718045137e665d6661f70cfa7ec.png" width="2430" height="719" class="img_ev3q"></p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl port-forward -n tidb-cluster svc/basic-tidb </span><span class="token number" style="color:#36acaa">4000</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> pf4000.out </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="connect TiDB cluster" src="/assets/images/connect1-be6b13647b17742c3a967b3e8829749e.png" width="1420" height="68" class="img_ev3q"></p><p><img loading="lazy" alt="connect tidb cluster" src="/assets/images/connect2-7c52ba62c2f250f12ed495cfa5fd1cb8.png" width="604" height="152" class="img_ev3q"></p><p><img loading="lazy" alt="connect TiDB cluster" src="/assets/images/connect3-abfb57d8b142dfffe9a51c08bd1b2b49.png" width="2499" height="749" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="check-and-verify-the-tidb-cluster-status">Check and verify the TiDB cluster status<a class="hash-link" href="#check-and-verify-the-tidb-cluster-status" title="Direct link to heading">​</a></h4><ol><li><p>Create the Hello_world table</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">create</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">table</span><span class="token plain"> hello_world </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">id </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">not</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">null</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">auto_increment</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">primary</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">key</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> v </span><span class="token keyword" style="color:#00009f">varchar</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">32</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="create Hello_world table" src="/assets/images/helloworld-d916ce6e1f0e069e5d4acb776b444962.png" width="1266" height="807" class="img_ev3q"></p></li><li><p>Check the TiDB version</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">select</span><span class="token plain"> tidb_version</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">\G</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="check version" src="/assets/images/checkversion-e0586d069d8cdb100ba172e2836fb92d.png" width="1042" height="434" class="img_ev3q"></p></li><li><p>Check the Tikv storage status</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">select</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> information_schema</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tikv_store_status\G</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="check storage" src="/assets/images/checkstorage-be130e7558ea12ef380164e5bd33f2e8.png" width="1190" height="884" class="img_ev3q"></p></li></ol><h4 class="anchor anchorWithStickyNavbar_LWe7" id="configure-the-hwameistor-storage">Configure the HwameiStor storage<a class="hash-link" href="#configure-the-hwameistor-storage" title="Direct link to heading">​</a></h4><p>Create a PVC for tidb-tikv and tidb-pd from <code>storageClass local-storage-hdd-lvm</code>:</p><p><img loading="lazy" alt="HwameiStor storage config" src="/assets/images/pvc-72ff9e3fbbb8ab8087d52ab36dd732f7.png" width="2498" height="248" class="img_ev3q"></p><p><img loading="lazy" alt="pvc1" src="/assets/images/pvc1-bc1017044ab502ea1ff3c21be110a088.png" width="1261" height="1438" class="img_ev3q"></p><p><img loading="lazy" alt="pvc2" src="/assets/images/pvc2-307ff6e797cde3b258136d935454b343.png" width="787" height="954" class="img_ev3q"></p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get po basic-tikv-0 -oyaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="mountpvc" src="/assets/images/mountpvc-8fd83543e55e5781e6ca1cf5a5b549c6.png" width="1021" height="1430" class="img_ev3q"></p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get po basic-pd-0 -oyaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="mountpvc1" src="/assets/images/mountpvc1-d2d7077971a2980378654c8e06afee2c.png" width="1154" height="1454" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="test-procedure">Test procedure<a class="hash-link" href="#test-procedure" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="basic-sql-capability-test">Basic SQL capability test<a class="hash-link" href="#basic-sql-capability-test" title="Direct link to heading">​</a></h3><p>After the database cluster is deployed, we performed the following tests about basic capabilities. All are successfully passed.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="distributed-transaction">Distributed transaction<a class="hash-link" href="#distributed-transaction" title="Direct link to heading">​</a></h4><p>Test purpose: In the case of multiple isolation levels, check if the completeness constraints of distributed data operations are supported, such as atomicity, consistency, isolation, and durability (ACID)</p><p>Test steps:</p><ol><li><p>Create the database: testdb</p></li><li><p>Create the table <code>t_test ( id int AUTO_INCREMENT, name varchar(32), PRIMARY KEY (id) )</code></p></li><li><p>Run a test script</p></li></ol><p>Test result: The completeness constraints of distributed data operations are supported, such as atomicity, consistency, isolation, and durability (ACID), in the case of multiple isolation levels</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="object-isolation">Object isolation<a class="hash-link" href="#object-isolation" title="Direct link to heading">​</a></h4><p>Test purpose: Check if the object isolation can be implemented by using different schemas</p><p>Test script:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">create</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">database</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">not</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">exists</span><span class="token plain"> testdb</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">use</span><span class="token plain"> testdb</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">create</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">table</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">not</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">exists</span><span class="token plain"> t_test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> id                   </span><span class="token keyword" style="color:#00009f">bigint</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name                 </span><span class="token keyword" style="color:#00009f">varchar</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">200</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sale_time            </span><span class="token keyword" style="color:#00009f">datetime</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">default</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">current_timestamp</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">constraint</span><span class="token plain"> pk_t_test </span><span class="token keyword" style="color:#00009f">primary</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">key</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">insert</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">into</span><span class="token plain"> t_test</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">values</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;a&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;b&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;c&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">create</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">user</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;readonly&#x27;</span><span class="token variable" style="color:#36acaa">@&#x27;%&#x27;</span><span class="token plain"> identified </span><span class="token keyword" style="color:#00009f">by</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;readonly&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">grant</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">select</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">on</span><span class="token plain"> testdb</span><span class="token punctuation" style="color:#393A34">.</span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">to</span><span class="token plain"> readonly</span><span class="token variable" style="color:#36acaa">@&#x27;%&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">select</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> testdb</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">t_test</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">update</span><span class="token plain"> testdb</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">t_test </span><span class="token keyword" style="color:#00009f">set</span><span class="token plain"> name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;aaa&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">create</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">user</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;otheruser&#x27;</span><span class="token variable" style="color:#36acaa">@&#x27;%&#x27;</span><span class="token plain"> identified </span><span class="token keyword" style="color:#00009f">by</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;otheruser&quot;</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Test result: Supported to create different schemas to implement the object isolation</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="table-operation-support">Table operation support<a class="hash-link" href="#table-operation-support" title="Direct link to heading">​</a></h4><p>Test purpose: Check if you can create, delete, and modifiy table data, DML, columns, partition table</p><p>Test steps: Run the test scripts step by step after connecting the database</p><p>Test script:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Create and delete table</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">drop</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">table</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">exists</span><span class="token plain"> t_test</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">create</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">table</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">not</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">exists</span><span class="token plain"> t_test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> id                   </span><span class="token keyword" style="color:#00009f">bigint</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">default</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;0&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name                 </span><span class="token keyword" style="color:#00009f">varchar</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">200</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">default</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sale_time            </span><span class="token keyword" style="color:#00009f">datetime</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">default</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">current_timestamp</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">constraint</span><span class="token plain"> pk_t_test </span><span class="token keyword" style="color:#00009f">primary</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">key</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Delete and modify</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">insert</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">into</span><span class="token plain"> t_test</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">values</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;a&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;b&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;c&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;d&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;e&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">update</span><span class="token plain"> t_test </span><span class="token keyword" style="color:#00009f">set</span><span class="token plain"> name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;aaa&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">where</span><span class="token plain"> id</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">update</span><span class="token plain"> t_test </span><span class="token keyword" style="color:#00009f">set</span><span class="token plain"> name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;bbb&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">where</span><span class="token plain"> id</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">delete</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> t_dml </span><span class="token keyword" style="color:#00009f">where</span><span class="token plain"> id</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Modify, add, delete columns</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">alter</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">table</span><span class="token plain"> t_test </span><span class="token keyword" style="color:#00009f">modify</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">column</span><span class="token plain"> name </span><span class="token keyword" style="color:#00009f">varchar</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">250</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">alter</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">table</span><span class="token plain"> t_test </span><span class="token keyword" style="color:#00009f">add</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">column</span><span class="token plain"> col </span><span class="token keyword" style="color:#00009f">varchar</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">255</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">insert</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">into</span><span class="token plain"> t_test</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">col</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">values</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;test&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;new_col&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">     </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">alter</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">table</span><span class="token plain"> t_test </span><span class="token keyword" style="color:#00009f">add</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">column</span><span class="token plain"> colwithdefault </span><span class="token keyword" style="color:#00009f">varchar</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">255</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">default</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;aaaa&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">insert</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">into</span><span class="token plain"> t_test</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">values</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;testdefault&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">insert</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">into</span><span class="token plain"> t_test</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">colwithdefault </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">values</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;test&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;non-default &#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">     </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">alter</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">table</span><span class="token plain"> t_test </span><span class="token keyword" style="color:#00009f">drop</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">column</span><span class="token plain"> colwithdefault</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Type of partition table (only listed part of scripts)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TABLE</span><span class="token plain"> employees </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    id </span><span class="token keyword" style="color:#00009f">INT</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fname </span><span class="token keyword" style="color:#00009f">VARCHAR</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">30</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">lname </span><span class="token keyword" style="color:#00009f">VARCHAR</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">30</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    hired </span><span class="token keyword" style="color:#00009f">DATE</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">DEFAULT</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;1970-01-01&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    separated </span><span class="token keyword" style="color:#00009f">DATE</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">DEFAULT</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;9999-12-31&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">job_code </span><span class="token keyword" style="color:#00009f">INT</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">store_id </span><span class="token keyword" style="color:#00009f">INT</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Test result: Supported to create, delete, and modifiy table data, DML, columns, partition table</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="index-support">Index support<a class="hash-link" href="#index-support" title="Direct link to heading">​</a></h4><p>Test purpose: Verify different indexes (unique, clustered, partitioned, Bidirectional indexes, Expression-based indexes, hash indexes, etc.) and index rebuild operations.</p><p>Test script:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">alter table t_test </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> unique index udx_t_test </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># The default is clustered index of primary key</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ADMIN CHECK TABLE t_test</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">create index time_idx on t_test</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sale_time</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">alter table t_test drop index time_idx</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">admin show ddl </span><span class="token function" style="color:#d73a49">jobs</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">admin show ddl job queries </span><span class="token number" style="color:#36acaa">156</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">create index time_idx on t_test</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sale_time</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Test result: Supported to create, delete, combine, and list indexes and supported for unique index</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="statements">Statements<a class="hash-link" href="#statements" title="Direct link to heading">​</a></h4><p>Test purpose: Check if the statements in distributed databases are supported such as <code>if</code>, <code>case when</code>, <code>for loop</code>, <code>while loop</code>, <code>loop exit when</code> (up to 5 kinds)</p><p>Test script:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">CASE</span><span class="token plain"> id </span><span class="token keyword" style="color:#00009f">WHEN</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">THEN</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;first&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">WHEN</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">THEN</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;second&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">ELSE</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;OTHERS&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">END</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> id_new  </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> t_test</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">IF</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">id</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;int2+&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;int2-&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> t_test</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Test result: supported for statements such as <code>if</code>, <code>case when</code>, <code>for loop</code>, <code>while loop</code>, and <code>loop exit when</code> (up to 5 kinds)</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="parsing-execution-plan">Parsing execution plan<a class="hash-link" href="#parsing-execution-plan" title="Direct link to heading">​</a></h4><p>Test purpose: Check if execution plan parsing is supported for distributed databases</p><p>Test script:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">explain</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">analyze</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">select</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> t_test </span><span class="token keyword" style="color:#00009f">where</span><span class="token plain"> id </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">IN</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">explain</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">analyze</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">select</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> t_test a </span><span class="token keyword" style="color:#00009f">where</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">EXISTS</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">select</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> t_test b </span><span class="token keyword" style="color:#00009f">where</span><span class="token plain"> a</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">id</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">b</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">id </span><span class="token operator" style="color:#393A34">and</span><span class="token plain"> b</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">id</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">explain</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">analyze</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">IF</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">id</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;int2+&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;int2-&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> t_test</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Test result: the execution plan is supported to parse</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="binding-execution-plan">Binding execution plan<a class="hash-link" href="#binding-execution-plan" title="Direct link to heading">​</a></h4><p>Test purpose: Verify the feature of binding execution plan for distributed databases</p><p>Test steps:</p><ol><li><p>View the current execution plan of sql statements</p></li><li><p>Use the binding feature</p></li><li><p>View the execution plan after the sql statement is binded</p></li><li><p>Delete the binding</p></li></ol><p>Test script:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">explain</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">select</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> employees3 a </span><span class="token keyword" style="color:#00009f">join</span><span class="token plain"> employees4 b </span><span class="token keyword" style="color:#00009f">on</span><span class="token plain"> a</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> b</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">id </span><span class="token keyword" style="color:#00009f">where</span><span class="token plain"> a</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">lname</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;Johnson&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">explain</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">select</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">/*+ hash_join(a,b) */</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> employees3 a </span><span class="token keyword" style="color:#00009f">join</span><span class="token plain"> employees4 b </span><span class="token keyword" style="color:#00009f">on</span><span class="token plain"> a</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> b</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">id </span><span class="token keyword" style="color:#00009f">where</span><span class="token plain"> a</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">lname</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;Johnson&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Test result: It may not be hash_join when hint is not used, and it must be hash_join after hint is used.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="common-functions">Common functions<a class="hash-link" href="#common-functions" title="Direct link to heading">​</a></h4><p>Test purpose: Verify standard functions of distributed databases</p><p>Test result: Standard database functions are supported</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="explicitimplicit-transactions">Explicit/implicit transactions<a class="hash-link" href="#explicitimplicit-transactions" title="Direct link to heading">​</a></h4><p>Test purpose: Verify the transaction support of distributed databases</p><p>Test result: Explict and implicit transactions are supported</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="character-set">Character set<a class="hash-link" href="#character-set" title="Direct link to heading">​</a></h4><p>Test purpose: Verify the data types supported by distributed database</p><p>Test result: Only the UTF-8 mb4 character set is supported now</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="lock-support">Lock support<a class="hash-link" href="#lock-support" title="Direct link to heading">​</a></h4><p>Test purpose: Verify the lock implementation of distributed databases</p><p>Test result: Described how the lock is implemented, what are blockage conditions in the case of R-R/R-W/W-W, and how the deadlock is handled</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="isolation-levels">Isolation levels<a class="hash-link" href="#isolation-levels" title="Direct link to heading">​</a></h4><p>Test purpose: Verify the transactional isolation levels of distributed databases</p><p>Test result: Supported for si and rc isolation levels (4.0 GA version)</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="distributed-complex-query">Distributed complex query<a class="hash-link" href="#distributed-complex-query" title="Direct link to heading">​</a></h4><p>Test purpose: Verify the complex query capabilities of distributed databases</p><p>Test result: Supported for the distributed complex queries and operations such as inter-node joins, and supported for window functions and hierarchical queries</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="system-security-test">System security test<a class="hash-link" href="#system-security-test" title="Direct link to heading">​</a></h3><p>This section describes system security tests. After the database cluster is deployed, all the following tests are passed.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="account-management-and-permission-test">Account management and permission test<a class="hash-link" href="#account-management-and-permission-test" title="Direct link to heading">​</a></h4><p>Test purpose: Verify the accout permisson management of distributed databases</p><p>Test script:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">select</span><span class="token plain"> host</span><span class="token punctuation" style="color:#393A34">,</span><span class="token keyword" style="color:#00009f">user</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">authentication_string </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> mysql</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">user</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">create</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">user</span><span class="token plain"> tidb IDENTIFIED </span><span class="token keyword" style="color:#00009f">by</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;tidb&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">select</span><span class="token plain"> host</span><span class="token punctuation" style="color:#393A34">,</span><span class="token keyword" style="color:#00009f">user</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">authentication_string </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> mysql</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">user</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">set</span><span class="token plain"> password </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> tidb </span><span class="token operator" style="color:#393A34">=</span><span class="token plain">password</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;tidbnew&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">select</span><span class="token plain"> host</span><span class="token punctuation" style="color:#393A34">,</span><span class="token keyword" style="color:#00009f">user</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">authentication_string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">Select_priv </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> mysql</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">user</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">grant</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">select</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">on</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">.</span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">to</span><span class="token plain"> tidb</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">flush </span><span class="token keyword" style="color:#00009f">privileges</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">select</span><span class="token plain"> host</span><span class="token punctuation" style="color:#393A34">,</span><span class="token keyword" style="color:#00009f">user</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">authentication_string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">Select_priv </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> mysql</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">user</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">grant</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">all</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">privileges</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">on</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">.</span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">to</span><span class="token plain"> tidb</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">flush </span><span class="token keyword" style="color:#00009f">privileges</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">select</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain">  mysql</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">user</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">where</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">user</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;tidb&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">revoke</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">select</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">on</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">.</span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> tidb</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">flush </span><span class="token keyword" style="color:#00009f">privileges</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">revoke</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">all</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">privileges</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">on</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">.</span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> tidb</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">flush </span><span class="token keyword" style="color:#00009f">privileges</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">grant</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">select</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">on</span><span class="token plain"> test</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TEST_HOTSPOT </span><span class="token keyword" style="color:#00009f">to</span><span class="token plain"> tidb</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">drop</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">user</span><span class="token plain"> tidb</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Test results:</p><ul><li><p>Supported for creating, modifying, and deleting accounts, and configuring passwords, and supported for the separation of security, audit, and data management</p></li><li><p>Based on different accounts, various permission control for database includes: instance, library, table, and column</p></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="access-control">Access control<a class="hash-link" href="#access-control" title="Direct link to heading">​</a></h4><p>Test purpose: Verify the permission access control of distributed databases, and control the database data by granting basic CRUD (create, read, update, and delete) permissions</p><p>Test script:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mysql </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">u root </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">h </span><span class="token number" style="color:#36acaa">172.17</span><span class="token number" style="color:#36acaa">.49</span><span class="token number" style="color:#36acaa">.222</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">P </span><span class="token number" style="color:#36acaa">4000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">drop</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">user</span><span class="token plain"> tidb</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">drop</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">user</span><span class="token plain"> tidb1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">create</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">user</span><span class="token plain"> tidb IDENTIFIED </span><span class="token keyword" style="color:#00009f">by</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;tidb&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">grant</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">select</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">on</span><span class="token plain"> tidb</span><span class="token punctuation" style="color:#393A34">.</span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">to</span><span class="token plain"> tidb</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">grant</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">insert</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">on</span><span class="token plain"> tidb</span><span class="token punctuation" style="color:#393A34">.</span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">to</span><span class="token plain"> tidb</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">grant</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">update</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">on</span><span class="token plain"> tidb</span><span class="token punctuation" style="color:#393A34">.</span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">to</span><span class="token plain"> tidb</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">grant</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">delete</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">on</span><span class="token plain"> tidb</span><span class="token punctuation" style="color:#393A34">.</span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">to</span><span class="token plain"> tidb</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">flush </span><span class="token keyword" style="color:#00009f">privileges</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">show</span><span class="token plain"> grants </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> tidb</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">exit</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mysql </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">u tidb </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">h </span><span class="token number" style="color:#36acaa">172.17</span><span class="token number" style="color:#36acaa">.49</span><span class="token number" style="color:#36acaa">.222</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">ptidb </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">P </span><span class="token number" style="color:#36acaa">4000</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">D tidb </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">e </span><span class="token string" style="color:#e3116c">&#x27;select * from aa;&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mysql </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">u tidb </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">h </span><span class="token number" style="color:#36acaa">172.17</span><span class="token number" style="color:#36acaa">.49</span><span class="token number" style="color:#36acaa">.222</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">ptidb </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">P </span><span class="token number" style="color:#36acaa">4000</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">D tidb </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">e </span><span class="token string" style="color:#e3116c">&#x27;insert into aa values(2);&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mysql </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">u tidb </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">h </span><span class="token number" style="color:#36acaa">172.17</span><span class="token number" style="color:#36acaa">.49</span><span class="token number" style="color:#36acaa">.222</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">ptidb </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">P </span><span class="token number" style="color:#36acaa">4000</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">D tidb </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">e </span><span class="token string" style="color:#e3116c">&#x27;update aa set id=3;&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mysql </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">u tidb </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">h </span><span class="token number" style="color:#36acaa">172.17</span><span class="token number" style="color:#36acaa">.49</span><span class="token number" style="color:#36acaa">.222</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">ptidb </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">P </span><span class="token number" style="color:#36acaa">4000</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">D tidb </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">e </span><span class="token string" style="color:#e3116c">&#x27;delete from aa where id=3;&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Test result: Database data is controlled by granting the basic CRUD permissions</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="whitelist">Whitelist<a class="hash-link" href="#whitelist" title="Direct link to heading">​</a></h4><p>Test purpose: Verify the whitelist feature of distributed databases</p><p>Test script:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mysql </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">u root </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">h </span><span class="token number" style="color:#36acaa">172.17</span><span class="token number" style="color:#36acaa">.49</span><span class="token number" style="color:#36acaa">.102</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">P </span><span class="token number" style="color:#36acaa">4000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">drop</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">user</span><span class="token plain"> tidb</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">create</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">user</span><span class="token plain"> tidb</span><span class="token variable" style="color:#36acaa">@&#x27;127.0.0.1&#x27;</span><span class="token plain"> IDENTIFIED </span><span class="token keyword" style="color:#00009f">by</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;tidb&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">flush </span><span class="token keyword" style="color:#00009f">privileges</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">select</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> mysql</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">user</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">where</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">user</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;tidb&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mysql </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">u tidb </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">h </span><span class="token number" style="color:#36acaa">127.0</span><span class="token number" style="color:#36acaa">.0</span><span class="token number" style="color:#36acaa">.1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">P </span><span class="token number" style="color:#36acaa">4000</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">ptidb</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mysql </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">u tidb </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">h </span><span class="token number" style="color:#36acaa">172.17</span><span class="token number" style="color:#36acaa">.49</span><span class="token number" style="color:#36acaa">.102</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">P </span><span class="token number" style="color:#36acaa">4000</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">ptidb</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Test result: Supported for the IP whitelist feature and supportred for matching actions with IP segments</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="operation-log">Operation log<a class="hash-link" href="#operation-log" title="Direct link to heading">​</a></h4><p>Test purpose: Verify the monitor capability to distributed databases</p><p>Test script: <code>kubectl -ntidb-cluster logs tidb-test-pd-2 --tail 22</code></p><p>Test result: Record key actions or misoperations performed by users through the operation and maintenance management console or API</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="operation-and-maintenance-test">Operation and maintenance test<a class="hash-link" href="#operation-and-maintenance-test" title="Direct link to heading">​</a></h3><p>This section describes the operation and maintenance test. After the database cluster is deployed, the following operation and maintenance tests are all passed.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="import-and-export-data">Import and export data<a class="hash-link" href="#import-and-export-data" title="Direct link to heading">​</a></h4><p>Test purpose: Verify the tools support for importing and exporting data of distributed databases</p><p>Test script:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">select</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> sbtest1 </span><span class="token keyword" style="color:#00009f">into</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">outfile</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;/sbtest1.csv&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">load</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">data</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">local</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">infile</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;/sbtest1.csv&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">into</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">table</span><span class="token plain"> test100</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Test result: Supported for importing and exporting table, schema, and database</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="slow-log-query">Slow log query<a class="hash-link" href="#slow-log-query" title="Direct link to heading">​</a></h4><p>Test purpose: Get the SQL info by slow query</p><p>Prerequisite: The SQL execution time shall be longer than the configured threshold for slow query, and the SQL execution is completed</p><p>Test steps:</p><ol><li><p>Adjust the slow query threshold to 100 ms</p></li><li><p>Run SQL</p></li><li><p>View the slow query info from log, system table, or dashboard</p></li></ol><p>Test script:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">show</span><span class="token plain"> variables </span><span class="token operator" style="color:#393A34">like</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;tidb_slow_log_threshold&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">set</span><span class="token plain"> tidb_slow_log_threshold</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">select</span><span class="token plain"> query_time</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> query </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> information_schema</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">slow_query </span><span class="token keyword" style="color:#00009f">where</span><span class="token plain"> is_internal </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">order</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">by</span><span class="token plain"> query_time </span><span class="token keyword" style="color:#00009f">desc</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">limit</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Test result: Can get the slow query info.</p><p>For details about test data, see <a target="_blank" href="/assets/files/TiDBonHwameiStor-906bfd680bcfe09f47e9c9e5ed8bc3ec.docx">TiDB on HwameiStor Deployment and Test Logs</a>.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/test">Test</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="Blog list page navigation"></nav></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Documentation</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/hwameistor/hwameistor" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 HwameiStor, Developed by DaoCloud.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.f83a4526.js"></script>
<script src="/assets/js/main.0e26bc04.js"></script>
</body>
</html>