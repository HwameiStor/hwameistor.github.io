<!doctype html>
<html lang="zh-CN" dir="ltr" class="blog-wrapper blog-list-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-rc.1">
<link rel="alternate" type="application/rss+xml" href="/cn/blog/rss.xml" title="HwameiStor RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/cn/blog/atom.xml" title="HwameiStor Atom Feed"><title data-rh="true">博文 | HwameiStor</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://hwameistor.io /cn/blog"><meta data-rh="true" name="docusaurus_locale" content="cn"><meta data-rh="true" name="docsearch:language" content="cn"><meta data-rh="true" property="og:title" content="博文 | HwameiStor"><meta data-rh="true" name="description" content="博客"><meta data-rh="true" property="og:description" content="博客"><meta data-rh="true" name="docusaurus_tag" content="blog_posts_list"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_posts_list"><link data-rh="true" rel="icon" href="/cn/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://hwameistor.io /cn/blog"><link data-rh="true" rel="alternate" href="https://hwameistor.io /blog" hreflang="en-GB"><link data-rh="true" rel="alternate" href="https://hwameistor.io /cn/blog" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://hwameistor.io /blog" hreflang="x-default"><link rel="stylesheet" href="/cn/assets/css/styles.e7f5cffe.css">
<link rel="preload" href="/cn/assets/js/runtime~main.726cb8cd.js" as="script">
<link rel="preload" href="/cn/assets/js/main.15923e63.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">跳到正文</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/cn/"><div class="navbar__logo"><img src="/cn/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/cn/img/logo_dark.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">HwameiStor</b></a><a class="navbar__item navbar__link" href="/cn/docs/intro">文档</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/cn/blog">博客</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>中文</a><ul class="dropdown__menu"><li><a href="/blog" target="_self" rel="noopener noreferrer" class="dropdown__link">English</a></li><li><a href="/cn/blog" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active">中文</a></li></ul></div><a href="https://github.com/hwameistor/hwameistor" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换淡色/暗色模式 (当前 淡色模式)" aria-label="切换淡色/暗色模式 (当前 淡色模式)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="浏览最新的博文"><div class="sidebarItemTitle_pO2u margin-bottom--md">最新的博文</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/cn/blog/minio">HwameiStor 对 Minio 的支持</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/cn/blog/live">直播回顾论道原生：云原生存储</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/cn/blog/test">HwameiStor 能力、安全及运维测试</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/cn/blog/3">LV 和 LVReplica</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/cn/blog/2">HwameiStor Reliable Helper System 开源上线</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/cn/blog/minio">HwameiStor 对 Minio 的支持</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2202-07-16T00:00:00.000Z" itemprop="datePublished">July 16, 2202</time> · <!-- -->8 分钟阅读</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/zhaosimon" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/36882380?v=4" alt="赵燕宁"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/zhaosimon" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">赵燕宁</span></a></div><small class="avatar__subtitle" itemprop="description">开发者</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><ol><li>MinIO简介<ol><li>功能特性</li></ol></li></ol><p>MinIO是一款高性能，分布式，兼容S3的多云对象存储系统套件。由于原生支持kubernetes，MinIO支持所有的公有云，私有云及边缘计算环境。 MinIO是GNU AGPL v3开源的软件定义产品能够很好地运行在标准硬件如X86等设备上·。</p><p><code>        </code><img loading="lazy" alt="../Desktop/屏幕快照%202022-06-17%20上午6.25.12.png" src="/cn/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.001-50c5ded4364db203250dc5f007b8f613.png" width="245" height="219" class="img_ev3q"></p><p>MinIO的架构设计从一开始就是针对对性能要求很高的私有云标准，在实现对象存储所需要的全部功能的基础上追求极致的性能。MinIO具备易用性，高效性及高性能，能够以更简单的方式提供具有弹性伸缩能力的云原生对象存储服务。</p><p>MinIO在传统对象存储场景（如辅助存储，灾难恢复和归档）方面表现出色，同时在机器学习、大数据、私有云、混合云等方面的存储技术上也独树一帜，包括数据分析、高性能应用负载、原生云应用。</p><ol><li>架构设计</li></ol><p>MinIOn为云原生架构设计，可以作为轻量级容器运行并由外部编排服务如Kubernetes管理。MinIO整个服务包约为不到100 MB的静态二进制文件，即使在很高负载下也可以高效利用CPU和内存资源并可以在共享硬件上共同托管大量租户。对应的架构图如下：</p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-06-17%20上午6.48.22.png" src="/cn/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.002-1be806421c76c1b27546bb0ebdb50ede.png" width="553" height="340" class="img_ev3q"></p><p>MinIO可以在带有本地驱动器（JBOD / JBOF）的标准服务器上运行。集群为完全对称的体系架构，即所有服务器的功能均相同，没有名称节点或元数据服务器。</p><p>MinIO将数据和元数据作为对象一起写入从而无需使用元数据数据库。MinIO以内联，严格一致的操作执行所有功能包括擦除代码，位rotrot检查，加密等。</p><p>每个MinIO群集都是分布式MinIO服务器的集合，每个节点一个进程。 MinIO作为单个进程在用户空间中运行，并使用轻量级的协同例程来实现高并发。将驱动器分组到擦除集（默认情况下，每组16个驱动器），然后使用确定性哈希算法将对象放置在这些擦除集上。</p><p>MinIO专为大规模，多数据中心云存储服务而设计。每个租户都运行自己的MinIO群集，该群集与其他租户完全隔离，从而使他们能够保护他们免受升级，更新和安全事件的任何干扰。每个租户通过联合跨地理区域的集群来独立扩展。</p><ol><li>测试环境<ol><li>kubernetes集群</li></ol></li></ol><p>本次测试使用了三台虚拟机节点部署了kubernetes集群：1 master + 2 work nodes，kubelete版本为1.22.0</p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-05%20下午4.06.08.png" src="/cn/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.003-2e9998ffef1d3a00bad3b7e3a164e4ff.png" width="553" height="117" class="img_ev3q"></p><ol><li>hwameiStor本地存储</li></ol><p>在kubernetes上部署了hwameiStor本地存储</p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-05%20下午4.08.19.png" src="/cn/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.004-0cd9b8d67e92c776b7bcd8b348f70496.png" width="553" height="87" class="img_ev3q"></p><p>两台work节点各配置了五块磁盘sdb/sdc/sdd/sde/sdf用于hwameiStor本地磁盘管理。</p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-05%20下午4.10.54.png" src="/cn/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.005-1b81d8560261b1885437ed9fb82481cc.png" width="553" height="192" class="img_ev3q">	<img loading="lazy" alt="../Desktop/屏幕快照%202022-07-05%20下午4.10.24.png" src="/cn/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.006-9d75cd284b90f360762e7b6b4003f1fe.png" width="553" height="147" class="img_ev3q"></p><p>local storage node状态				   <img loading="lazy" alt="../Desktop/屏幕快照%202022-07-11%20上午8.05.38.png" src="/cn/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.007-9655d5b584e42874a92047354ff54c15.png" width="553" height="67" class="img_ev3q"></p><p>创建了storagClass<img loading="lazy" alt="../Desktop/屏幕快照%202022-07-05%20下午4.13.47.png" src="/cn/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.008-860a03c344d7d8b2e26157ca5f6730a9.png" width="553" height="48" class="img_ev3q"></p><ol><li>分布式多租户源码部署安装（minio operator）<ol><li>部署minio operator</li></ol></li></ol><p>复制minio operator仓库到本地</p><p>git clone <a href="https://github.com/minio/operator.git" target="_blank" rel="noopener noreferrer">https://github.com/minio/operator.git</a></p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-11%20上午7.12.37.png" src="/cn/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.009-f96e598528d3d564bcbb129221360620.png" width="538" height="50" class="img_ev3q"></p><p><img loading="lazy" src="/cn/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.010-2d0c847e0ae10e022f408516d0b15c46.png" width="554" height="47" class="img_ev3q"></p><p>进入helm operator目录</p><p>/root/operator/helm/operator</p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-19%20上午8.27.07.png" src="/cn/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.011-177620b3543a6e3211f2ada8d9af1893.png" width="448" height="119" class="img_ev3q"></p><p>部署minio-operator实例</p><p>helm install minio-operator \</p><p>--namespace minio-operator \</p><p>--create-namespace \</p><p>--generate-name .</p><p>--set persistence.storageClass=local-storage-hdd-lvm .</p><p>检查minio-operator资源运行情况</p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-19%20上午8.29.44.png" src="/cn/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.012-026455ec24122121ef5763df0c6f1d71.png" width="553" height="252" class="img_ev3q"></p><ol><li><code>	</code>创建租户</li></ol><p>进入/root/operator/examples/kustomization/base目录</p><p>修改tenant.yaml如下</p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-20%20上午7.42.14.png" src="/cn/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.013-7ae47ae03222e56b47635aea676dc294.png" width="553" height="489" class="img_ev3q"></p><p>进入/root/operator/helm/tenant/目录</p><p>修改values.yaml文件如下</p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-20%20上午7.48.34.png" src="/cn/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.014-4a948a45aba4b18a76b4938e24b0dfe7.png" width="553" height="576" class="img_ev3q"></p><p>进入/root/operator/examples/kustomization/tenant-lite目录</p><p>修改kustomization.yaml文件如下：</p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-20%20上午7.52.31.png" src="/cn/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.015-0ad007bd15ea443b07d8366fb2eb65bd.png" width="553" height="249" class="img_ev3q"></p><p>修改tenant.yaml文件如下：</p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-20%20上午7.52.47.png" src="/cn/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.016-24937bd8e84cfb6f82a3d4c61f3cb5ff.png" width="553" height="266" class="img_ev3q"></p><p>修改tenantNamePatch.yaml文件如下</p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-20%20上午7.53.00.png" src="/cn/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.017-4b8be598ff292c9492f86640650d8a0c.png" width="553" height="125" class="img_ev3q"></p><p>创建租户：</p><p>kubectl apply –f ./tenant.yaml </p><p>检查租户资源状态：</p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-20%20上午10.11.24.png" src="/cn/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.018-497b2e2eab8bb4d29b3de1c0b1a6dd7b.png" width="553" height="322" class="img_ev3q"></p><ol><li><code>	</code>HwameiStor本地卷配置</li></ol><p>kubectl get statefulset.apps/minio-t1-pool-0 -nminio-tenant -oyaml</p><p><img loading="lazy" src="/cn/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.019-214813a44eb9b94a4a7c12b592bdca77.png" width="437" height="382" class="img_ev3q"></p><p>kubectl get pvc –A</p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-20%20上午10.06.53.png" src="/cn/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.020-b00f37660c7a43e7a79d9fdb12116a6b.png" width="553" height="105" class="img_ev3q"></p><p>kubectl get pvc export-minio6-0 -nminio-6 -oyaml</p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-11%20上午7.58.00.png" src="/cn/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.021-bd9d6c3aea26b5e4217bb163f26b68f9.png" width="553" height="371" class="img_ev3q"></p><p>kubectl get pv           </p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-20%20上午10.07.25.png" src="/cn/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.022-d6a7f8f8d6abe20eb23588513908066d.png" width="553" height="85" class="img_ev3q"></p><p>kubectl get pvc data0-minio-t1-pool-0-0 -nminio-tenant -oyaml</p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-20%20上午10.18.49.png" src="/cn/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.023-71f7f2ebc33ee977d2c399425bab30bd.png" width="553" height="448" class="img_ev3q"></p><p>kubectl get lv</p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-20%20上午10.07.57.png" src="/cn/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.024-b1a03ec396f97f755f15ad387225c38a.png" width="553" height="95" class="img_ev3q"></p><p>kubect get lvr</p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-20%20上午10.08.14.png" src="/cn/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.025-aa5334390dd09d70b369178e2a40df54.png" width="553" height="86" class="img_ev3q"></p><ol><li>HwameiStor与MinIo测试验证<ol><li><code>	</code>基本功能测试</li></ol></li></ol><p>登录minio console：10.6.163.52:30401/login</p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-11%20上午8.15.59.png" src="/cn/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.026-7fe8a9423e110af4be66c81f1c6c7c06.png" width="553" height="307" class="img_ev3q"></p><p>用户名：XulV2mOJh9DKn3F95fdq</p><p>密码：PkXqxUJFZ8QYby2ZAVbeXQ9KW4ZAkdXH67HX2msx</p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-11%20上午8.17.57.png" src="/cn/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.027-1132310465ce7b8992fd73140f2299d5.png" width="553" height="294" class="img_ev3q"></p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-11%20上午8.18.28.png" src="/cn/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.028-136ade26e1a82e85a3ff0e204f39e383.png" width="553" height="306" class="img_ev3q"></p><p>创建bucket</p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-11%20上午9.46.02.png" src="/cn/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.029-33fe425b8ba57c3d5ce982156e7cab85.png" width="553" height="367" class="img_ev3q"></p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-11%20上午9.46.11.png" src="/cn/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.030-dd62f23cb98649c36f31ac3231902221.png" width="553" height="150" class="img_ev3q"></p><p>创建path</p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-11%20上午9.46.32.png" src="/cn/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.012-026455ec24122121ef5763df0c6f1d71.png" width="553" height="252" class="img_ev3q"></p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-11%20上午9.46.44.png" src="/cn/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.031-11ad874e87f91ae3dcc316bdfd0ac7e3.png" width="553" height="156" class="img_ev3q"></p><p>上传文件</p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-11%20上午9.47.58.png" src="/cn/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.032-a5ff19f28f1ef891c40393d3934293cc.png" width="553" height="159" class="img_ev3q"></p><p><code>   </code>创建用户</p><p><code>	</code><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-11%20下午2.05.25.png" src="/cn/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.033-338beb5bfd016642c4884b65927be24f.png" width="510" height="245" class="img_ev3q"></p><p><code>  </code><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-11%20下午2.08.18.png" src="/cn/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.034-1fa3e7c60dd80b1b5d067c9df64faa6b.png" width="416" height="245" class="img_ev3q"></p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-11%20下午2.08.27.png" src="data:image/png;base64,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" width="462" height="144" class="img_ev3q"> </p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-11%20下午2.08.38.png" src="data:image/png;base64,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" width="473" height="181" class="img_ev3q"></p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-13%20上午6.08.09.png" src="/cn/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.037-b45fb9385e569f8c2c2998538bcac4d0.png" width="552" height="189" class="img_ev3q"></p><p>用户policy</p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-13%20上午6.16.35.png" src="/cn/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.038-3771386839568dc2deb08e56c115747e.png" width="553" height="243" class="img_ev3q"></p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-13%20上午6.16.53.png" src="/cn/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.039-a79266fc26ad7e971516ae6a1c294428.png" width="553" height="209" class="img_ev3q"></p><p><code>	</code>删除bucket</p><p><code>	</code><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-13%20上午5.59.16.png" src="/cn/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.040-a2503c2dfc8f1392745aa70ed19745e4.png" width="553" height="270" class="img_ev3q"></p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-13%20上午5.59.36.png" src="/cn/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.041-0f5e71536ecda7b0540336b7d987ad8f.png" width="553" height="289" class="img_ev3q"></p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-13%20上午5.59.48.png" src="/cn/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.042-5fb901f06242ca3307fa207796212df2.png" width="553" height="225" class="img_ev3q"></p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-13%20上午6.00.36.png" src="/cn/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.043-5b62af0b0a2f022d5187434c522b21aa.png" width="553" height="214" class="img_ev3q"></p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-13%20上午6.00.46.png" src="/cn/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.044-371d2ab810ec260df0f6416b94a77fe9.png" width="553" height="262" class="img_ev3q"></p><p><img loading="lazy" alt="../Desktop/屏幕快照%202022-07-13%20上午6.01.18.png" src="/cn/assets/images/Aspose.Words.81ed48c3-d0c6-4cc7-adbc-ce89e7ef2af0.045-3c3ef1e74e3b2b8dbf7abeb04cfa9243.png" width="553" height="210" class="img_ev3q"></p><ol start="4"><li>结论</li></ol><p>本次测试是在kubernetes 1.22平台上部署了minio分布式对象存储并对接hwameiStor本地存储。在此环境中完成了基本能力测试，系统安全测试及运维管理测试。</p><p>全部测试通过。</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/cn/blog/tags/test">Test</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/cn/blog/live">直播回顾论道原生：云原生存储</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-06-20T00:00:00.000Z" itemprop="datePublished">June 20, 2022</time> · <!-- -->16 分钟阅读</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/AdaLiuyl" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">刘业琳</span></a></div><small class="avatar__subtitle" itemprop="description">编辑</small></div></div></div><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/Michelle951" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/35519562?v=4" alt="吴慧"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/Michelle951" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">吴慧</span></a></div><small class="avatar__subtitle" itemprop="description">编辑</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p><img loading="lazy" alt="直播回顾" src="/cn/assets/images/livestream-highlights-16a896d473fbf1bb6b2a489021a23141.png" width="1080" height="459" class="img_ev3q"></p><p>云原生产业的快速发展，为行业应用的实现带来了更多可能性，但也面临更多的挑战。存储是应用运行的基石，随着云原生技术的广泛应用，越来越多的有状态应用被搬上容器平台，有状态应用已成为了存储的主要对象，存储也成为应用容器化过程中的主要难点。在云原生时代下，对存储系统提出了哪些新的要求？云原生存储面临哪些新机遇和新挑战？目前有哪些热门的云原生存储解决方案？</p><p>在 6 月 20 日的论道原生直播间，我们携手<a href="https://www.pengyunnetwork.cn/#/Main" target="_blank" rel="noopener noreferrer">鹏云网络</a>，分享了三个方面内容，云原生本地存储、 Kubernetes (K8s) 场景下云原生存储解决方案，以及 “云原生时代需要什么样的存储系统” 的圆桌讨论，共话云原生存储未来。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="云原生本地存储-hwameistor">云原生本地存储 HwameiStor<a class="hash-link" href="#云原生本地存储-hwameistor" title="直接链接到标题">​</a></h2><p>云原生存储作为云原生堆栈中容器化操作的底层架构之一，将底层存储服务暴露给容器和微服务，可以聚合来自不同介质的存储资源，通过提供持久卷使有状态的工作负载能够在容器内运行。CNCF 官方对于云原生存储形态的定义，一般包括三点，第一是运行在 K8s 上，即其本身是容器形态。第二是使用 K8s 对象类，主要是自定义资源 Custom Resource Define (CRD)。第三是最重要的一点，必须使用容器存储接口 Container Storage Interface (CSI) 。HwameiStor 正是基于以上定义开发的，一个端到端的云原生本地存储系统。</p><p><img loading="lazy" alt="HwameiStor 系统架构" src="/cn/assets/images/hwameistor-architecture-8e6610b9d4887978e12794b35da3701d.png" width="1373" height="535" class="img_ev3q"></p><p>HwameiStor 最底层是一个本地磁盘管理器 Local Disk Manager (LDM)，管理器将各种存储介质 (比如 HDD、SSD 和 NVMe 磁盘) 形成本地存储资源池进行统一管理，管理和接入完全自动。部署完 HwameiStor 后，即可根据介质的不同，分配至不同的资源池。资源池之上采用逻辑卷管理 Logical Volume Manager (LVM) 进行管理，使用 CSI 架构提供分布式的本地数据卷服务，为有状态的云原生应用或组件，提供数据持久化能力。</p><p>HwameiStor 是专门为云原生需求设计的存储系统，有高可用、自动化、低成本、快速部署、高性能等优点，可以替代昂贵的传统存储区域网络 Storage Area Network (SAN)。它有三个核心组件：</p><ul><li><p>本地盘管理 (LDM)，使用 CRD 定义及管理本地数据盘，通过 LDM，在 K8s内部可明确获取到本地磁盘的属性、大小等信息。</p></li><li><p>本地存储 (LS)，在实现本地盘管理之后，通过 LVM 卷组管理，将逻辑卷 LV 分配给物理卷 PV 。</p></li><li><p>调度器 (Scheduler)，把容器调度到本地有数据的节点上。</p></li></ul><p>HwameiStor 的核心在于自定义资源 CRD 的定义及实现，在 K8s 已有 PersistentVolume (PV) 和 PersistentVolumeClaim (PVC) 对象类之上，Hwameistor 定义了更丰富的对象类把 PV/PVC 和本地数据盘关联起来。</p><p>HwameiStor 有四点特性：</p><ul><li>自动化运维管理，自动发现、识别、管理、分配磁盘，根据亲和性智能调度应用和数据，还可自动监测磁盘状态并及时预警。</li><li>高可用的数据支持，HwameiStor 使用跨节点副本同步数据，实现高可用，发生问题时，它会自动将应用调度到高可用数据节点上，保证应用的连续性。</li><li>丰富的数据卷类型，HwameiStor 聚合 HDD、SSD、NVMe 类型的磁盘，提供低延时，高吞吐的数据服务。</li><li>灵活动态的线性扩展，HwameiStor 根据集群规模大小进行动态的扩容，灵活满足应用的数据持久化需求。</li></ul><p>HwameiStor 的应用场景主要包括以下三类：</p><ul><li><p>适配高可用架构中间件
Kafka、ElasticSearch、Redis 等，这类中间件应用自身具备高可用架构，同时对数据的 IO 访问有很高要求。HwameiStor 提供的基于 LVM 的单副本本地数据卷，可以很好地满足它们的要求。</p></li><li><p>为应用提供高可用数据卷
MySQL 等 OLTP 数据库，要求底层存储提供高可用的数据存储，当发生问题时可快速恢复数据，同时，也要求保证高性能的数据访问。HwameiStor 提供的双副本的高可用数据卷，可以很好地满足此类需求。</p></li><li><p>自动化运维传统存储软件
MinIO、Ceph 等存储软件，需要使用 K8s 节点上的磁盘，可以采用 PVC/PV 的方式，通过 CSI 驱动自动化地使用 HwameiStor 的单副本本地卷，快速响应业务系统提出的部署、扩容、迁移等需求，实现基于 K8s 的自动化运维。</p></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="k8s-场景下的云原生存储解决方案zettastor-hasp">K8s 场景下的云原生存储解决方案————ZettaStor HASP<a class="hash-link" href="#k8s-场景下的云原生存储解决方案zettastor-hasp" title="直接链接到标题">​</a></h2><p>根据云原生基金会 (CNCF) 2020 年度报告，有状态应用已经成为了容器应用的主流，占比达到了 55%，其中有 29% 将存储列为了采用容器技术的主要挑战，而现有云原生环境面临的一个存储难题，就是性能与可用性难以兼顾，单纯使用一种存储，无法满足所有需求。因此在有状态应用的实际落地过程中，数据存储技术是关键。</p><p><img loading="lazy" alt="存储方案对比" src="/cn/assets/images/compare-storage-037fad93660b36b9dae3aac41588abed.png" width="1080" height="342" class="img_ev3q"></p><p>ZettaStor HASP 是一个云原生高性能数据聚合存储平台，它是一个高性能的用户态文件系统，具备跨异构存储多副本冗余保护的能力。相比传统的分布式存储系统而言，数据副本可以在不同类型的存储系统之间流动。除此之外，还可实现存储资源统一灵活编排，并与容器平台紧密集成。</p><p>以三个场景为例：</p><ul><li><p>对于 Kafka、Redis、MongoDB、HDFS 等性能要求高，且自身具备数据冗余机制的分布式应用，ZettaStor HASP 拥有更高的数据访问性能，可以实现存储资源动态分配及精细化管理。</p></li><li><p>MySQL、PostgreSQL 等自身不提供数据冗余机制，只能依赖外部存储，舍弃本地存储的高性能，ZettaStor HASP 可通过跨节点冗余保护，实现数据的高可用，同时兼具本地存储的高性能。</p></li><li><p>对于关键业务而言，需要防范两节点同时故障的风险，而 ZettaStor HASP 跨本地及外部存储的副本冗余保护，可保障关键业务运行无忧。</p></li></ul><p><img loading="lazy" alt="ZettaStor HASP 系统架构" src="/cn/assets/images/zettastor-efca08b8ca7386a2fc071b9f13747857.png" width="1080" height="601" class="img_ev3q"></p><p>ZettaStor HASP 分为三层架构，最上层是高性能的分布式文件系统，也是 HASP 的核心，这个用户态的文件系统是完全自主研发的，全面兼容 POSIX 标准，在用户态与内核态之间实现零数据拷贝，可彻底发挥 NVMe SSD/SCM/PM 等高速介质的性能。第二层是数据服务层，除了在不同节点的本地存储之间、本地存储与外部存储之间、异构外部存储之间提供服务，还可针对单副本和多副本、强一致性和弱一致性分别提供存储方案。第三层是存储管理层，负责对不同的存储设备进行交互，通过统一的数据格式打破设备壁垒及数据孤岛，让数据及业务能够跨异构设备自由流动。除此之外，该系统还可通过 CSI 接口进行存储设备的调度。</p><p>ZettaStor HASP 是一个与容器平台紧密结合的分布式存储平台，可进行超融合部署和 CSI 集成，具备节点亲和性，可对用户 Pod 运行状态进行感知，使得存储行为更加适配。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="圆桌讨论">圆桌讨论<a class="hash-link" href="#圆桌讨论" title="直接链接到标题">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="q1-什么是云原生存储">Q1: 什么是云原生存储？<a class="hash-link" href="#q1-什么是云原生存储" title="直接链接到标题">​</a></h3><p><a href="https://github.com/alexzhc" target="_blank" rel="noopener noreferrer">郑泓超</a>：狭义的云原生存储需要满足三点，第一，与 CSI 接口实现良好的对接，满足 CSI 规范；其次，需要以容器的形式部署在 K8s 上；第三，存储系统内部的信息，也需要通过 CRD 产生新的对象类，并最终存储在 K8s 中。</p><p><a href="https://github.com/fengqinah" target="_blank" rel="noopener noreferrer">冯钦</a>：云原生上的存储是满足多种特性、多种需求的一个解决方案，除了提供统一的存储平台，应对不同的存储应用，提供不同的存储特性，实现统一纳管之外，还需要对接 CSI 接口，并打通存储与 K8s 之间的交流。</p><p><a href="https://github.com/niulechuan" target="_blank" rel="noopener noreferrer">牛乐川</a>：现在应用最广的云原生存储，还是在云存储和或者分布式存储的基础上实现云原生化。同时，也有厂商在传统存储具备的特殊能力方面进行一些延伸的尝试。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="q2-云原生存储应该如何支持云原生应用">Q2: 云原生存储应该如何支持云原生应用？<a class="hash-link" href="#q2-云原生存储应该如何支持云原生应用" title="直接链接到标题">​</a></h3><p>冯钦：主要分为两个方面，第一，云原生存储需要支持云原生应用的特性，特性决定了应用对于存储的要求。第二，需要满足 CSI 的要求，以支持云原生特殊的需求。</p><p><a href="https://github.com/niulechuan" target="_blank" rel="noopener noreferrer">牛乐川</a>：从性能角度来看，云原生存储需要全方位满足 CSI 架构的要求，以应对多样化的云原生场景。为了给云原生应用提供良好的底层支持和响应保障，云原生存储需要实现高效运维。根据现实情况，云原生存储在成本、迁移性和技术支持方面也有考量。和云原生应用一样，云原生存储需要 “弹性”，运算方面应当具备弹性扩展能力，数据方面也需要实现扩容缩容，以及冷热数据之间的转换。除此之外，云原生存储应当具备一个开放的生态。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="q3云原生存储和传统存储之间的异同点及优劣势">Q3:云原生存储和传统存储之间的异同点及优劣势？<a class="hash-link" href="#q3云原生存储和传统存储之间的异同点及优劣势" title="直接链接到标题">​</a></h3><p><a href="https://github.com/alexzhc" target="_blank" rel="noopener noreferrer">郑泓超</a>：云原生存储部署之后是聚合形态，而传统存储接入 K8s 一般是分离形态。云原生存储因为运行在 K8s 上，有利于开发微服务，而传统存储往往需要开发者进行存储的 API 扩展。但是，聚合形态也在一定程度上，导致 K8s 的问题容易蔓延到存储当中，给运维带来困难。除此之外，云原生存储还存在网络共享和硬盘负载方面的问题。</p><p><a href="https://github.com/fengqinah" target="_blank" rel="noopener noreferrer">冯钦</a>：外部存储中，存储节点和计算节点之间的影响很低，后端存储一般为分布式存储，安全性和可用性相对较高。但在云原生场景下，单一使用外部存储存在一定的劣势，性能上会增加网络的消耗，同时还存在额外成本增加以及与 K8s 的联动不足的问题。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="q4-云原生存储中应该如何赋能传统存储">Q4: 云原生存储中应该如何赋能传统存储？<a class="hash-link" href="#q4-云原生存储中应该如何赋能传统存储" title="直接链接到标题">​</a></h3><p><a href="https://github.com/niulechuan" target="_blank" rel="noopener noreferrer">牛乐川</a>：这是一个非常迫切的需求，对于 K8s 原生的能力，比如删除、创建、扩容的能力，主要是通过 CRD 进行实现，社区也在积极部署。同时，传统存储中积攒的一些能力，尚未在云原生存储体系中得到体现，比如定时任务、可观测性等。如何在平台侧更好地让云原生赋能传统存储，充分发挥双方的优势能力，将云原生存储发展成熟，还有很多需要努力的空间，我们团队也正在进行这方面的研发。</p><p><a href="https://github.com/alexzhc" target="_blank" rel="noopener noreferrer">郑泓超</a>：再总结一个点，在常规的做法里，K8s 对接传统存储，需要完成的是 CSI 驱动集合，但这只局限于表面，CSI 定义了一部分存储的操作流程，但更多还只是一个接口。所以，CSI 社区是否应该对常规存储的一些功能 (例如定时备份、高可用等) 用 CRD 进行定义？而厂商能否做一部分工作，把一些高级的、特殊的流程用 CRD 进行定义？从而使得 K8s 能在存储领域得到更广泛的应用，是值得我们去思考和实践的。</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/cn/blog/tags/livestream">livestream</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/cn/blog/test">HwameiStor 能力、安全及运维测试</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-06-06T00:00:00.000Z" itemprop="datePublished">June 6, 2022</time> · <!-- -->20 分钟阅读</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/zhaosimon" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/36882380?v=4" alt="赵燕宁"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/zhaosimon" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">赵燕宁</span></a></div><small class="avatar__subtitle" itemprop="description">开发者</small></div></div></div><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/windsonsea" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/windsonsea.png" alt="要海峰"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/windsonsea" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">要海峰</span></a></div><small class="avatar__subtitle" itemprop="description">编辑</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>本次测试环境为 Kubernetes 1.22，对接 HwameiStor 本地存储后，成功部署 TiDB 1.3，随后执行数据库 SQL 基本能力测试、系统安全测试及运维管理测试。</p><p>全部测试成功通过，证实 HwameiStor 能够完美支撑 TiDB 这类高可用、强一致要求较高、数据规模较大的分布式数据库应用场景。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="tidb-简介">TiDB 简介<a class="hash-link" href="#tidb-简介" title="直接链接到标题">​</a></h2><p>TiDB 是一款同时支持在线事务处理 (OLTP) 与在线分析处理 (OATP) 的融合型分布式数据库产品，具备水平扩缩容、金融级高可用、实时 HTAP（即同时支持 OLTP 和 OATP）、云原生的分布式数据库，兼容 MySQL 5.7 协议和 MySQL 生态等重要特性。TiDB 的目标是为用户提供一站式的 OLTP、OLAP、HTAP 解决方案，适合高可用、强一致要求较高、数据规模较大等各种应用场景。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tidb-整体架构">TiDB 整体架构<a class="hash-link" href="#tidb-整体架构" title="直接链接到标题">​</a></h3><p>TiDB 分布式数据库将整体架构拆分成了多个模块，各模块之间互相通信，组成完整的 TiDB 系统。对应的架构图如下：</p><p><img loading="lazy" alt="TiDB 架构图" src="/cn/assets/images/architecture-84a02fa042e9dcf9890b7d8cd9e0abf0.png" width="2163" height="1269" class="img_ev3q"></p><ul><li><p><strong>TiDB Server</strong></p><p>SQL 层对外暴露 MySQL 协议的连接端点，负责接受客户端的连接，执行 SQL 解析和优化，最终生成分布式执行计划。TiDB 层本身是无状态的，实践中可以启动多个 TiDB 实例，通过负载均衡组件（如 LVS、HAProxy 或 F5）对外提供统一的接入地址，客户端的连接可以均匀地分摊在多个 TiDB 实例上以达到负载均衡的效果。TiDB Server 本身并不存储数据，只是解析 SQL，将实际的数据读取请求转发给底层的存储节点 TiKV（或 TiFlash）。</p></li><li><p><strong>PD (Placement Driver) Server</strong></p><p>整个 TiDB 集群的元信息管理模块，负责存储每个 TiKV 节点实时的数据分布情况和集群的整体拓扑结构，提供 TiDB Dashboard 管控界面，并为分布式事务分配事务 ID。PD 不仅存储元信息，同时还会根据 TiKV 节点实时上报的数据分布状态，下发数据调度命令给具体的 TiKV 节点，可以说是整个集群的“大脑”。此外，PD 本身也是由至少 3 个节点构成，拥有高可用的能力。建议部署奇数个 PD 节点。</p></li><li><p><strong>存储节点</strong></p><ul><li><p>TiKV Server：负责存储数据，从外部看 TiKV 是一个分布式的提供事务的 Key-Value 存储引擎。存储数据的基本单位是 Region，每个 Region 负责存储一个 Key Range（从 StartKey 到 EndKey 的左闭右开区间）的数据，每个 TiKV 节点会负责多个 Region。TiKV 的 API 在 KV 键值对层面提供对分布式事务的原生支持，默认提供了 SI (Snapshot Isolation) 的隔离级别，这也是 TiDB 在 SQL 层面支持分布式事务的核心。TiDB 的 SQL 层做完 SQL 解析后，会将 SQL 的执行计划转换为对 TiKV API 的实际调用。所以，数据都存储在 TiKV 中。另外，TiKV 中的数据都会自动维护多副本（默认为三副本），天然支持高可用和自动故障转移。</p></li><li><p>TiFlash：TiFlash 是一类特殊的存储节点。和普通 TiKV 节点不一样的是，在 TiFlash 内部，数据是以列式的形式进行存储，主要的功能是为分析型的场景加速。</p></li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tidb-数据库的存储">TiDB 数据库的存储<a class="hash-link" href="#tidb-数据库的存储" title="直接链接到标题">​</a></h3><p><img loading="lazy" alt="TiDB数据库的存储" src="/cn/assets/images/storage-4a218645dd6de979bc2db8471dc54ead.png" width="1923" height="1761" class="img_ev3q"></p><ul><li><p><strong>键值对 (Key-Value Pair)</strong></p><p>TiKV 的选择是 Key-Value 模型，并且提供有序遍历方法。TiKV 数据存储的两个关键点：</p><ul><li><p>这是一个巨大的 Map（可以类比一下 C++ 的 std::map），也就是存储的是 Key-Value Pairs。</p></li><li><p>这个 Map 中的 Key-Value pair 按照 Key 的二进制顺序有序，也就是可以 Seek 到某一个 Key 的位置，然后不断地调用 Next 方法以递增的顺序获取比这个 Key 大的 Key-Value。</p></li></ul></li><li><p><strong>本地存储（Rocks DB）</strong></p><p>任何持久化的存储引擎，数据终归要保存在磁盘上，TiKV 也不例外。但是 TiKV 没有选择直接向磁盘上写数据，而是把数据保存在 RocksDB 中，具体的数据落地由 RocksDB 负责。这样做的原因是开发一个单机存储引擎工作量很大，特别是要做一个高性能的单机引擎，需要做各种细致的优化，而 RocksDB 是由 Facebook 开源的一个非常优秀的单机 KV 存储引擎，可以满足 TiKV 对单机引擎的各种要求。这里可以简单地认为 RocksDB 是一个单机的持久化 Key-Value Map。</p></li><li><p><strong>Raft 协议</strong></p><p>TiKV 选择了 Raft 算法来保证单机失效的情况下数据不丢失不出错。简单来说，就是把数据复制到多台机器上，这样某一台机器无法提供服务时，其他机器上的副本还能提供服务。这个数据复制方案可靠并且高效，能处理副本失效的情况。</p></li><li><p><strong>Region</strong></p><p>TiKV 选择了按照 Key 划分 Range。某一段连续的 Key 都保存在一个存储节点上。将整个 Key-Value 空间分成很多段，每一段是一系列连续的 Key，称为一个 Region。尽量让每个 Region 中保存的数据不超过一定的大小，目前在 TiKV 中默认是不超过 96MB。每一个 Region 都可以用 <!-- -->[StartKey，EndKey]<!-- --> 这样的左闭右开区间来描述。</p></li><li><p><strong>MVCC</strong></p><p>TiKV实现了多版本并发控制 (MVCC)。</p></li><li><p><strong>分布式 ACID 事务</strong></p><p>TiKV 的事务采用的是 Google 在 BigTable 中使用的事务模型：Percolator。</p></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="搭建测试环境">搭建测试环境<a class="hash-link" href="#搭建测试环境" title="直接链接到标题">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kubernetes-集群">Kubernetes 集群<a class="hash-link" href="#kubernetes-集群" title="直接链接到标题">​</a></h3><p>本次测试使用三台虚拟机节点部署 Kubernetes 集群，包括 1 个 master 节点和 2 个 worker节点。Kubelete 版本为 1.22.0。</p><p><img loading="lazy" alt="k8s cluster" src="/cn/assets/images/k8scluster-d66dbdd30a356cd2d92b2b4aa4be67cf.png" width="1032" height="202" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="hwameistor-本地存储">HwameiStor 本地存储<a class="hash-link" href="#hwameistor-本地存储" title="直接链接到标题">​</a></h3><ol><li><p>在 Kubernetes 集群上部署 HwameiStor 本地存储</p><p><img loading="lazy" alt="HwameiStor 本地存储" src="/cn/assets/images/hwameistor-b1534b2445747773ba035b59d9a2e4d9.png" width="900" height="383" class="img_ev3q"></p></li><li><p>在两台 worker 节点上分别为 HwameiStor 配置一块 100G 的本地磁盘 sdb</p><p><img loading="lazy" alt="sdb1" src="/cn/assets/images/sdb1-d44c872aaeec1d38a96fe2b64d614ec7.png" width="1106" height="504" class="img_ev3q"></p><p><img loading="lazy" alt="sdb2" src="/cn/assets/images/sdb2-04c3bbb6819254df2091337943b8a903.png" width="1262" height="846" class="img_ev3q"></p></li><li><p>创建 storagClass</p><p><img loading="lazy" alt="创建 StorageClass" src="/cn/assets/images/storageclass-2f60d3b59099601a065cad53084b7410.png" width="1846" height="116" class="img_ev3q"></p></li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="在-kubernetes-上部署-tidb">在 Kubernetes 上部署 TiDB<a class="hash-link" href="#在-kubernetes-上部署-tidb" title="直接链接到标题">​</a></h3><p>可以使用 TiDB Operator 在 Kubernetes 上部署 TiDB。TiDB Operator 是 Kubernetes 上的 TiDB 集群自动运维系统，提供包括部署、升级、扩缩容、备份恢复、配置变更的 TiDB 全生命周期管理。借助 TiDB Operator，TiDB 可以无缝运行在公有云或私有部署的 Kubernetes 集群上。</p><p>TiDB 与 TiDB Operator 版本的对应关系如下：</p><table><thead><tr><th>TiDB  版本</th><th>适用的 TiDB Operator 版本</th></tr></thead><tbody><tr><td>dev</td><td>dev</td></tr><tr><td>TiDB  &gt;= 5.4</td><td>1.3</td></tr><tr><td>5.1  &lt;= TiDB &lt; 5.4</td><td>1.3（推荐），1.2</td></tr><tr><td>3.0  &lt;= TiDB &lt; 5.1</td><td>1.3（推荐），1.2，1.1</td></tr><tr><td>2.1  &lt;= TiDB &lt; 3.0</td><td>1.0（停止维护）</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="部署-tidb-operator">部署 TiDB Operator<a class="hash-link" href="#部署-tidb-operator" title="直接链接到标题">​</a></h4><ol><li><p>安装 TiDB CRDs</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f https://raw.githubusercontent.com/pingcap/tidb-operator/master/manifests/crd.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制到剪切板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>安装 TiDB Operator</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">helm repo </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> pingcap https://charts.pingcap.org/ </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl create namespace tidb-admin </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">helm </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> --namespace tidb-admin tidb-operator pingcap/tidb-operator --version v1.3.2 </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--set </span><span class="token assign-left variable" style="color:#36acaa">operatorImage</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">registry.cn-beijing.aliyuncs.com/tidb/tidb-operator:v1.3.2 </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--set </span><span class="token assign-left variable" style="color:#36acaa">tidbBackupManagerImage</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">registry.cn-beijing.aliyuncs.com/tidb/tidb-backup-manager:v1.3.2 </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--set scheduler.kubeSchedulerImageName</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">registry.cn-hangzhou.aliyuncs.com/google_containers/kube-scheduler</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制到剪切板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>检查 TiDB Operator 组件</p><p><img loading="lazy" alt="检查 TiDB Operator 组件" src="/cn/assets/images/check-ed419916033fab0905560bd4a2f61af3.png" width="2008" height="180" class="img_ev3q"></p></li></ol><h4 class="anchor anchorWithStickyNavbar_LWe7" id="部署-tidb-集群">部署 TiDB 集群<a class="hash-link" href="#部署-tidb-集群" title="直接链接到标题">​</a></h4><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl create namespace tidb-cluster </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl -n tidb-cluster apply -f https://raw.githubusercontent.com/pingcap/tidb-operator/master/examples/basic/tidb-cluster.yaml </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl -n tidb-cluster apply -f https://raw.githubusercontent.com /pingcap/tidb-operator/master/examples/basic/tidb-monitor.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制到剪切板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="部署 TiDB 集群" src="/cn/assets/images/deploytidb-2d47220e268930b68788f6b5719ff1b6.png" width="2054" height="352" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="连接-tidb-集群">连接 TiDB 集群<a class="hash-link" href="#连接-tidb-集群" title="直接链接到标题">​</a></h4><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">yum -y </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> mysql-client</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制到剪切板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="connecttidb" src="/cn/assets/images/connecttidb-a7581718045137e665d6661f70cfa7ec.png" width="2430" height="719" class="img_ev3q"></p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl port-forward -n tidb-cluster svc/basic-tidb </span><span class="token number" style="color:#36acaa">4000</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> pf4000.out </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制到剪切板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="连接 TiDB 集群" src="/cn/assets/images/connect1-a3321cfd632f9c6972be8c5b479cc74b.png" width="2592" height="124" class="img_ev3q"></p><p><img loading="lazy" alt="连接 TiDB 集群" src="/cn/assets/images/connect2-b8e095de64a1ddeed0081558d1e7df2a.png" width="696" height="162" class="img_ev3q"></p><p><img loading="lazy" alt="连接 TiDB 集群" src="/cn/assets/images/connect3-abfb57d8b142dfffe9a51c08bd1b2b49.png" width="2499" height="749" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="检查并验证-tidb-集群状态">检查并验证 TiDB 集群状态<a class="hash-link" href="#检查并验证-tidb-集群状态" title="直接链接到标题">​</a></h4><ol><li><p>创建 Hello_world 表</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">create</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">table</span><span class="token plain"> hello_world </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">id </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">not</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">null</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">auto_increment</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">primary</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">key</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> v </span><span class="token keyword" style="color:#00009f">varchar</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">32</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制到剪切板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="创建 Hello_world 表" src="/cn/assets/images/helloworld-ecab0f377f6eff58e4c83330317e02f2.png" width="1660" height="1110" class="img_ev3q"></p></li><li><p>查询 TiDB 版本号</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">select tidb_version()\G;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制到剪切板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="连接 TiDB 集群" src="/cn/assets/images/checkversion-3d5ce2da304da3ad168d5e006fb04573.png" width="952" height="418" class="img_ev3q"></p></li><li><p>查询 Tikv 存储状态</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">select</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> information_schema</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tikv_store_status\G</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制到剪切板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="查询 Tikv 存储状态" src="/cn/assets/images/checkstorage-bdfd2faf28d7fd43cb0ba343b237ccdc.png" width="1014" height="854" class="img_ev3q"></p></li></ol><h4 class="anchor anchorWithStickyNavbar_LWe7" id="hwameistor-存储配置">HwameiStor 存储配置<a class="hash-link" href="#hwameistor-存储配置" title="直接链接到标题">​</a></h4><p>从 <code>storageClass local-storage-hdd-lvm</code> 分别为 tidb-tikv 及 tidb-pd 创建一个 PVC:</p><p><img loading="lazy" alt="HwameiStor 存储配置" src="/cn/assets/images/pvc-72ff9e3fbbb8ab8087d52ab36dd732f7.png" width="2498" height="248" class="img_ev3q"></p><p><img loading="lazy" alt="HwameiStor 存储配置" src="/cn/assets/images/pvc1-17195a3d3fbaf5e8832f6013cb00af45.png" width="556" height="773" class="img_ev3q"></p><p><img loading="lazy" alt="HwameiStor 存储配置" src="/cn/assets/images/pvc2-c01fe3c4a62af87680a8659b42a5237f.png" width="555" height="743" class="img_ev3q"></p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get po basic-tikv-0 -oyaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制到剪切板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="HwameiStor 存储配置" src="/cn/assets/images/mountpvc-ba5f069afefb45a429a80a93300a760e.png" width="525" height="856" class="img_ev3q"></p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get po basic-pd-0 -oyaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制到剪切板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="HwameiStor 存储配置" src="/cn/assets/images/mountpvc1-6efe78023666c7944839572e9a9deabc.png" width="569" height="871" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="测试内容">测试内容<a class="hash-link" href="#测试内容" title="直接链接到标题">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="数据库-sql-基本能力测试">数据库 SQL 基本能力测试<a class="hash-link" href="#数据库-sql-基本能力测试" title="直接链接到标题">​</a></h3><p>完成部署数据库集群后，执行了以下基本能力测试，全部通过。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="分布式事务">分布式事务<a class="hash-link" href="#分布式事务" title="直接链接到标题">​</a></h4><p>测试目的：支持在多种隔离级别下，实现分布式数据操作的完整性约束即 ACID属性</p><p>测试步骤：</p><ol><li><p>创建测试数据库 CREATE DATABASE testdb</p></li><li><p>创建测试用表 CREATE TABLE <code>t_test ( id int AUTO_INCREMENT, name varchar(32), PRIMARY KEY (id) )</code></p></li><li><p>运行测试脚本</p></li></ol><p>测试结果：支持在多种隔离级别下，实现分布式数据操作的完整性约束即 ACID 属性</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="对象隔离">对象隔离<a class="hash-link" href="#对象隔离" title="直接链接到标题">​</a></h4><p>测试目的：测试不同 schema 实现对象隔离</p><p>测试脚本：</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">create</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">database</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">not</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">exists</span><span class="token plain"> testdb</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">use</span><span class="token plain"> testdb</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">create</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">table</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">not</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">exists</span><span class="token plain"> t_test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> id                   </span><span class="token keyword" style="color:#00009f">bigint</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name                 </span><span class="token keyword" style="color:#00009f">varchar</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">200</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sale_time            </span><span class="token keyword" style="color:#00009f">datetime</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">default</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">current_timestamp</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">constraint</span><span class="token plain"> pk_t_test </span><span class="token keyword" style="color:#00009f">primary</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">key</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">insert</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">into</span><span class="token plain"> t_test</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">values</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;a&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;b&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;c&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">create</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">user</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;readonly&#x27;</span><span class="token variable" style="color:#36acaa">@&#x27;%&#x27;</span><span class="token plain"> identified </span><span class="token keyword" style="color:#00009f">by</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;readonly&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">grant</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">select</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">on</span><span class="token plain"> testdb</span><span class="token punctuation" style="color:#393A34">.</span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">to</span><span class="token plain"> readonly</span><span class="token variable" style="color:#36acaa">@&#x27;%&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">select</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> testdb</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">t_test</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">update</span><span class="token plain"> testdb</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">t_test </span><span class="token keyword" style="color:#00009f">set</span><span class="token plain"> name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;aaa&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">create</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">user</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;otheruser&#x27;</span><span class="token variable" style="color:#36acaa">@&#x27;%&#x27;</span><span class="token plain"> identified </span><span class="token keyword" style="color:#00009f">by</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;otheruser&quot;</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制到剪切板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>测试结果：支持创建不同 schema 实现对象隔离</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="表操作支持">表操作支持<a class="hash-link" href="#表操作支持" title="直接链接到标题">​</a></h4><p>测试目的：测试是否支持创建、删除和修改表数据、DML、列、分区表</p><p>测试步骤：连接数据库后按步骤执行测试脚本</p><p>测试脚本：</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># 创建和删除表</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">drop</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">table</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">exists</span><span class="token plain"> t_test</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">create</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">table</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">not</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">exists</span><span class="token plain"> t_test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> id                   </span><span class="token keyword" style="color:#00009f">bigint</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">default</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;0&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name                 </span><span class="token keyword" style="color:#00009f">varchar</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">200</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">default</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sale_time            </span><span class="token keyword" style="color:#00009f">datetime</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">default</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">current_timestamp</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">constraint</span><span class="token plain"> pk_t_test </span><span class="token keyword" style="color:#00009f">primary</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">key</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 删除和修改</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">insert</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">into</span><span class="token plain"> t_test</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">values</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;a&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;b&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;c&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;d&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;e&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">update</span><span class="token plain"> t_test </span><span class="token keyword" style="color:#00009f">set</span><span class="token plain"> name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;aaa&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">where</span><span class="token plain"> id</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">update</span><span class="token plain"> t_test </span><span class="token keyword" style="color:#00009f">set</span><span class="token plain"> name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;bbb&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">where</span><span class="token plain"> id</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">delete</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> t_dml </span><span class="token keyword" style="color:#00009f">where</span><span class="token plain"> id</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 修改、增加、删除列</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">alter</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">table</span><span class="token plain"> t_test </span><span class="token keyword" style="color:#00009f">modify</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">column</span><span class="token plain"> name </span><span class="token keyword" style="color:#00009f">varchar</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">250</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">alter</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">table</span><span class="token plain"> t_test </span><span class="token keyword" style="color:#00009f">add</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">column</span><span class="token plain"> col </span><span class="token keyword" style="color:#00009f">varchar</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">255</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">insert</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">into</span><span class="token plain"> t_test</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">col</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">values</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;test&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;new_col&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">     </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">alter</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">table</span><span class="token plain"> t_test </span><span class="token keyword" style="color:#00009f">add</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">column</span><span class="token plain"> colwithdefault </span><span class="token keyword" style="color:#00009f">varchar</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">255</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">default</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;aaaa&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">insert</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">into</span><span class="token plain"> t_test</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">values</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;testdefault&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">insert</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">into</span><span class="token plain"> t_test</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">colwithdefault </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">values</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;test&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;non-default &#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">     </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">alter</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">table</span><span class="token plain"> t_test </span><span class="token keyword" style="color:#00009f">drop</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">column</span><span class="token plain"> colwithdefault</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 分区表类型（仅摘录部分脚本）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TABLE</span><span class="token plain"> employees </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    id </span><span class="token keyword" style="color:#00009f">INT</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fname </span><span class="token keyword" style="color:#00009f">VARCHAR</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">30</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">lname </span><span class="token keyword" style="color:#00009f">VARCHAR</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">30</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    hired </span><span class="token keyword" style="color:#00009f">DATE</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">DEFAULT</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;1970-01-01&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    separated </span><span class="token keyword" style="color:#00009f">DATE</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">DEFAULT</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;9999-12-31&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">job_code </span><span class="token keyword" style="color:#00009f">INT</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">store_id </span><span class="token keyword" style="color:#00009f">INT</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制到剪切板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>测试结果：支持创建、删除和修改表数据、DML、列、分区表</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="索引支持">索引支持<a class="hash-link" href="#索引支持" title="直接链接到标题">​</a></h4><p>测试目的：验证多种类型的索引（唯一、聚簇、分区、Bidirectional indexes、Expression-based indexes、哈希索引等等）以及索引重建操作。</p><p>测试脚本：</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">alter</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">table</span><span class="token plain"> t_test </span><span class="token keyword" style="color:#00009f">add</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">unique</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">index</span><span class="token plain"> udx_t_test </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 默认就是主键聚簇索引</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ADMIN </span><span class="token keyword" style="color:#00009f">CHECK</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TABLE</span><span class="token plain"> t_test</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">create</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">index</span><span class="token plain"> time_idx </span><span class="token keyword" style="color:#00009f">on</span><span class="token plain"> t_test</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sale_time</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">alter</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">table</span><span class="token plain"> t_test </span><span class="token keyword" style="color:#00009f">drop</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">index</span><span class="token plain"> time_idx</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">admin </span><span class="token keyword" style="color:#00009f">show</span><span class="token plain"> ddl jobs</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">admin </span><span class="token keyword" style="color:#00009f">show</span><span class="token plain"> ddl job queries </span><span class="token number" style="color:#36acaa">156</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">create</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">index</span><span class="token plain"> time_idx </span><span class="token keyword" style="color:#00009f">on</span><span class="token plain"> t_test</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sale_time</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制到剪切板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>测试结果：支持创建、删除、组合、单列、唯一索引</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="表达式">表达式<a class="hash-link" href="#表达式" title="直接链接到标题">​</a></h4><p>测试目的：验证分布式数据库的表达式支持 if、casewhen、forloop、whileloop、loop exit when 等语句（上限 5 类）</p><p>前提条件：数据库集群已经部署完成。</p><p>测试脚本：</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">CASE</span><span class="token plain"> id </span><span class="token keyword" style="color:#00009f">WHEN</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">THEN</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;first&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">WHEN</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">THEN</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;second&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">ELSE</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;OTHERS&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">END</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> id_new  </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> t_test</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">IF</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">id</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;int2+&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;int2-&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> t_test</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制到剪切板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>测试结果：支持 if、case when、for loop、while loop、loop exit when 等语句（上限 5 类）</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="执行计划解析">执行计划解析<a class="hash-link" href="#执行计划解析" title="直接链接到标题">​</a></h4><p>测试目的：验证分布式数据库的执行计划解析支持</p><p>前提条件：数据库集群已经部署完成。</p><p>测试脚本：</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">explain</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">analyze</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">select</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> t_test </span><span class="token keyword" style="color:#00009f">where</span><span class="token plain"> id </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">IN</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">explain</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">analyze</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">select</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> t_test a </span><span class="token keyword" style="color:#00009f">where</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">EXISTS</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">select</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> t_test b </span><span class="token keyword" style="color:#00009f">where</span><span class="token plain"> a</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">id</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">b</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">id </span><span class="token operator" style="color:#393A34">and</span><span class="token plain"> b</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">id</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">explain</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">analyze</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">IF</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">id</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;int2+&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;int2-&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> t_test</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制到剪切板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>测试结果：支持执行计划的解析</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="执行计划绑定">执行计划绑定<a class="hash-link" href="#执行计划绑定" title="直接链接到标题">​</a></h4><p>测试目的：验证分布式数据库的执行计划绑定功能</p><p>测试步骤：</p><ol><li><p>查看 sql 语句的当前执行计划</p></li><li><p>使用绑定特性</p></li><li><p>查看该 sql 语句绑定后的执行计划</p></li><li><p>删除绑定</p></li></ol><p>测试脚本：</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">explain</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">select</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> employees3 a </span><span class="token keyword" style="color:#00009f">join</span><span class="token plain"> employees4 b </span><span class="token keyword" style="color:#00009f">on</span><span class="token plain"> a</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> b</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">id </span><span class="token keyword" style="color:#00009f">where</span><span class="token plain"> a</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">lname</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;Johnson&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">explain</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">select</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">/*+ hash_join(a,b) */</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> employees3 a </span><span class="token keyword" style="color:#00009f">join</span><span class="token plain"> employees4 b </span><span class="token keyword" style="color:#00009f">on</span><span class="token plain"> a</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> b</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">id </span><span class="token keyword" style="color:#00009f">where</span><span class="token plain"> a</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">lname</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;Johnson&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制到剪切板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>测试结果：没有使用 hint 时可能不是 hash_join，使用 hint 后一定是 hash_join。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="常用函数">常用函数<a class="hash-link" href="#常用函数" title="直接链接到标题">​</a></h4><p>测试目的：验证分布式数据库的标准的数据库函数(支持的函数类型）</p><p>测试结果：支持标准的数据库函数</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="显式隐式事务">显式/隐式事务<a class="hash-link" href="#显式隐式事务" title="直接链接到标题">​</a></h4><p>测试目的：验证分布式数据库的事务支持</p><p>测试结果：支持显示与隐式事务</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="字符集">字符集<a class="hash-link" href="#字符集" title="直接链接到标题">​</a></h4><p>测试目的：验证分布式数据库的数据类型支持</p><p>测试结果：目前只支持 UTF-8 mb4 字符集</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="锁支持">锁支持<a class="hash-link" href="#锁支持" title="直接链接到标题">​</a></h4><p>测试目的：验证分布式数据库的锁实现</p><p>测试结果：描述了锁的实现方式，R-R/R-W/W-W 情况下阻塞情况，死锁处理方式</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="隔离级别">隔离级别<a class="hash-link" href="#隔离级别" title="直接链接到标题">​</a></h4><p>测试目的：验证分布式数据库的事务隔离级别</p><p>测试结果：支持 si 隔离级别，支持 rc 隔离级别（4.0 GA 版本）</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="分布式复杂查询">分布式复杂查询<a class="hash-link" href="#分布式复杂查询" title="直接链接到标题">​</a></h4><p>测试目的：验证分布式数据库的分布式复杂查询能力</p><p>测试结果：支持跨节点 join 等分布式复杂查询、操作等，支持窗口函数、层次查询</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="系统安全测试">系统安全测试<a class="hash-link" href="#系统安全测试" title="直接链接到标题">​</a></h3><p>这部分测试系统安全，完成数据库集群部署后，以下安全测试全部通过。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="账号管理与权限测试">账号管理与权限测试<a class="hash-link" href="#账号管理与权限测试" title="直接链接到标题">​</a></h4><p>测试目的：验证分布式数据库的账号权限管理</p><p>测试脚本：</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">select</span><span class="token plain"> host</span><span class="token punctuation" style="color:#393A34">,</span><span class="token keyword" style="color:#00009f">user</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">authentication_string </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> mysql</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">user</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">create</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">user</span><span class="token plain"> tidb IDENTIFIED </span><span class="token keyword" style="color:#00009f">by</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;tidb&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">select</span><span class="token plain"> host</span><span class="token punctuation" style="color:#393A34">,</span><span class="token keyword" style="color:#00009f">user</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">authentication_string </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> mysql</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">user</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">set</span><span class="token plain"> password </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> tidb </span><span class="token operator" style="color:#393A34">=</span><span class="token plain">password</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;tidbnew&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">select</span><span class="token plain"> host</span><span class="token punctuation" style="color:#393A34">,</span><span class="token keyword" style="color:#00009f">user</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">authentication_string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">Select_priv </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> mysql</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">user</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">grant</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">select</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">on</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">.</span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">to</span><span class="token plain"> tidb</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">flush </span><span class="token keyword" style="color:#00009f">privileges</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">select</span><span class="token plain"> host</span><span class="token punctuation" style="color:#393A34">,</span><span class="token keyword" style="color:#00009f">user</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">authentication_string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">Select_priv </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> mysql</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">user</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">grant</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">all</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">privileges</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">on</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">.</span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">to</span><span class="token plain"> tidb</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">flush </span><span class="token keyword" style="color:#00009f">privileges</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">select</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain">  mysql</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">user</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">where</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">user</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;tidb&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">revoke</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">select</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">on</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">.</span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> tidb</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">flush </span><span class="token keyword" style="color:#00009f">privileges</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">revoke</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">all</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">privileges</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">on</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">.</span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> tidb</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">flush </span><span class="token keyword" style="color:#00009f">privileges</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">grant</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">select</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">on</span><span class="token plain"> test</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TEST_HOTSPOT </span><span class="token keyword" style="color:#00009f">to</span><span class="token plain"> tidb</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">drop</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">user</span><span class="token plain"> tidb</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制到剪切板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>测试结果：</p><ul><li><p>支持创建、修改删除账号，并配置和密码，支持安全、审计和数据管理三权分立</p></li><li><p>根据不同账号，对数库各个级别权限控制包括：实例/库/表/列级别</p></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="访问控制">访问控制<a class="hash-link" href="#访问控制" title="直接链接到标题">​</a></h4><p>测试目的：验证分布式数据库的权限访问控制，数据库数据通过赋予基本增删改查访问权限控制</p><p>测试脚本：</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mysql </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">u root </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">h </span><span class="token number" style="color:#36acaa">172.17</span><span class="token number" style="color:#36acaa">.49</span><span class="token number" style="color:#36acaa">.222</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">P </span><span class="token number" style="color:#36acaa">4000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">drop</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">user</span><span class="token plain"> tidb</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">drop</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">user</span><span class="token plain"> tidb1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">create</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">user</span><span class="token plain"> tidb IDENTIFIED </span><span class="token keyword" style="color:#00009f">by</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;tidb&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">grant</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">select</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">on</span><span class="token plain"> tidb</span><span class="token punctuation" style="color:#393A34">.</span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">to</span><span class="token plain"> tidb</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">grant</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">insert</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">on</span><span class="token plain"> tidb</span><span class="token punctuation" style="color:#393A34">.</span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">to</span><span class="token plain"> tidb</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">grant</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">update</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">on</span><span class="token plain"> tidb</span><span class="token punctuation" style="color:#393A34">.</span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">to</span><span class="token plain"> tidb</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">grant</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">delete</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">on</span><span class="token plain"> tidb</span><span class="token punctuation" style="color:#393A34">.</span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">to</span><span class="token plain"> tidb</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">flush </span><span class="token keyword" style="color:#00009f">privileges</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">show</span><span class="token plain"> grants </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> tidb</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">exit</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mysql </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">u tidb </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">h </span><span class="token number" style="color:#36acaa">172.17</span><span class="token number" style="color:#36acaa">.49</span><span class="token number" style="color:#36acaa">.222</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">ptidb </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">P </span><span class="token number" style="color:#36acaa">4000</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">D tidb </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">e </span><span class="token string" style="color:#e3116c">&#x27;select * from aa;&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mysql </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">u tidb </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">h </span><span class="token number" style="color:#36acaa">172.17</span><span class="token number" style="color:#36acaa">.49</span><span class="token number" style="color:#36acaa">.222</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">ptidb </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">P </span><span class="token number" style="color:#36acaa">4000</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">D tidb </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">e </span><span class="token string" style="color:#e3116c">&#x27;insert into aa values(2);&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mysql </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">u tidb </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">h </span><span class="token number" style="color:#36acaa">172.17</span><span class="token number" style="color:#36acaa">.49</span><span class="token number" style="color:#36acaa">.222</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">ptidb </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">P </span><span class="token number" style="color:#36acaa">4000</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">D tidb </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">e </span><span class="token string" style="color:#e3116c">&#x27;update aa set id=3;&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mysql </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">u tidb </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">h </span><span class="token number" style="color:#36acaa">172.17</span><span class="token number" style="color:#36acaa">.49</span><span class="token number" style="color:#36acaa">.222</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">ptidb </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">P </span><span class="token number" style="color:#36acaa">4000</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">D tidb </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">e </span><span class="token string" style="color:#e3116c">&#x27;delete from aa where id=3;&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制到剪切板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>测试结果：数据库数据通过赋予基本增删改查访问权限控制。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="白名单">白名单<a class="hash-link" href="#白名单" title="直接链接到标题">​</a></h4><p>测试目的：验证分布式数据库的白名单功能</p><p>测试脚本：</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mysql </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">u root </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">h </span><span class="token number" style="color:#36acaa">172.17</span><span class="token number" style="color:#36acaa">.49</span><span class="token number" style="color:#36acaa">.102</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">P </span><span class="token number" style="color:#36acaa">4000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">drop</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">user</span><span class="token plain"> tidb</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">create</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">user</span><span class="token plain"> tidb</span><span class="token variable" style="color:#36acaa">@&#x27;127.0.0.1&#x27;</span><span class="token plain"> IDENTIFIED </span><span class="token keyword" style="color:#00009f">by</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;tidb&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">flush </span><span class="token keyword" style="color:#00009f">privileges</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">select</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> mysql</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">user</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">where</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">user</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;tidb&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mysql </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">u tidb </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">h </span><span class="token number" style="color:#36acaa">127.0</span><span class="token number" style="color:#36acaa">.0</span><span class="token number" style="color:#36acaa">.1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">P </span><span class="token number" style="color:#36acaa">4000</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">ptidb</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mysql </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">u tidb </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">h </span><span class="token number" style="color:#36acaa">172.17</span><span class="token number" style="color:#36acaa">.49</span><span class="token number" style="color:#36acaa">.102</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">P </span><span class="token number" style="color:#36acaa">4000</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">ptidb</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制到剪切板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>测试结果：支持 IP 白名单功能，支持 IP 段通配操作</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="操作日志记录">操作日志记录<a class="hash-link" href="#操作日志记录" title="直接链接到标题">​</a></h4><p>测试目的：验证分布式数据库的操作监控能力</p><p>测试脚本：<code>kubectl -ntidb-cluster logs tidb-test-pd-2 --tail 22</code></p><p>测试结果：记录用户通过运维管理控制台或者 API 执行的关键操作或者错误操作</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="运维管理测试">运维管理测试<a class="hash-link" href="#运维管理测试" title="直接链接到标题">​</a></h3><p>这部分测试系统运维，完成数据库集群部署后，以下运维管理测试全部通过。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="数据导入导出">数据导入导出<a class="hash-link" href="#数据导入导出" title="直接链接到标题">​</a></h4><p>测试目的：验证分布式数据库的数据导入导出的工具支持</p><p>测试脚本：</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">select</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> sbtest1 </span><span class="token keyword" style="color:#00009f">into</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">outfile</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;/sbtest1.csv&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">load</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">data</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">local</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">infile</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;/sbtest1.csv&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">into</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">table</span><span class="token plain"> test100</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制到剪切板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>测试结果：支持按表、schema、database 级别的逻辑导出导入</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="慢日志查询">慢日志查询<a class="hash-link" href="#慢日志查询" title="直接链接到标题">​</a></h4><p>测试目的：获取慢查询的 SQL 信息</p><p>前提条件：SQL 执行时间需大于配置的慢查询记录阈值,且 SQL 执行完毕</p><p>测试步骤：</p><ol><li><p>调整慢查询阈值到 100ms</p></li><li><p>执行 sql</p></li><li><p>查看 log/系统表/dashboard 中的慢查询信息</p></li></ol><p>测试脚本：</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">show</span><span class="token plain"> variables </span><span class="token operator" style="color:#393A34">like</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;tidb_slow_log_threshold&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">set</span><span class="token plain"> tidb_slow_log_threshold</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">select</span><span class="token plain"> query_time</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> query </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> information_schema</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">slow_query </span><span class="token keyword" style="color:#00009f">where</span><span class="token plain"> is_internal </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">order</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">by</span><span class="token plain"> query_time </span><span class="token keyword" style="color:#00009f">desc</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">limit</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制到剪切板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>测试结果：可以获取慢查询信息</p><blockquote><p>有关测试详情，请查阅 <a target="_blank" href="/cn/assets/files/TiDBonHwameiStor-906bfd680bcfe09f47e9c9e5ed8bc3ec.docx">TiDB on hwameiStor 部署及测试记录</a>。</p></blockquote></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/cn/blog/tags/test">Test</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/cn/blog/3">LV 和 LVReplica</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-05-24T00:00:00.000Z" itemprop="datePublished">May 24, 2022</time> · <!-- -->3 分钟阅读</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/niulechuan" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/81207605?v=4" alt="牛乐川"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/niulechuan" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">牛乐川</span></a></div><small class="avatar__subtitle" itemprop="description">开发者</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>在 Kubernetes 中，当用户创建一个 PVC，并指定使用 HwameiStor 作为底层存储时，HwameiStor 会创建两类 CR，即本文的主角<code>LocalVolume</code> 和 <code>LocalVolumeReplica</code>。HwameiStor 为什么为一个 PV 创建这两类资源呢？本文将为您揭开谜团。</p><p><img loading="lazy" alt="LV 副本" src="/cn/assets/images/lv_replicas_cn-290ad3ffefacb8197dcb64dba8a20490.png" width="1836" height="1142" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="localvolume">LocalVolume<a class="hash-link" href="#localvolume" title="直接链接到标题">​</a></h2><p><code>LocalVolume</code> 是 HwameiStor 定义的 CRD，代表 HwameiStor 为用户提供的数据卷。<code>LocalVolume</code> 和 Kubernetes 的 <code>PersistentVolume</code> 是一一对应的，含义也是类似的，均代表一个数据卷。不同之处在于，<code>LocalVolume</code> 记录 HwameiStor 相关的信息，而 <code>PersistentVolume</code> 记录 Kubernetes 平台本身的信息，并关联到 <code>LocalVolume</code>。</p><p>可以通过以下命令查看系统中 <code>LocalVolume</code> 的详细信息：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#  check status of local volume and volume replica</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ kubectl get lv # or localvolume</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NAME                                       POOL                   KIND   REPLICAS   CAPACITY     ACCESSIBILITY   STATE      RESOURCE   PUBLISHED   AGE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pvc-996b05e8-80f2-4240-ace4-5f5f250310e2   LocalStorage_PoolHDD   LVM    1          1073741824   k8s-node1       Ready      -1                     22m</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制到剪切板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>既然 HwameiStor 可以通过 <code>LocalVolume</code> 表示一个数据卷，为什么还需要 <code>LocalVolumeReplica</code> 呢？</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="localvolumereplica">LocalVolumeReplica<a class="hash-link" href="#localvolumereplica" title="直接链接到标题">​</a></h2><p><code>LocalVolumeReplica</code> 也是 HwameiStor 定义的 CRD。但是与 <code>LocalVolume</code> 不同，<code>LocalVolumeReplica</code> 代表数据卷的副本。</p><p>在 HwameiStor 中，<code>LocalVolume</code> 会指定某个属于它的 <code>LocalVolumeReplica</code> 作为当前激活的副本。可以看出<code>LocalVolume</code> 可以拥有多个 <code>LocalVolumeReplica</code>，即一个数据卷可以有多个副本。目前 HwameiStor 会在众多副本中激活其中一个，被应用程序挂载，其他副本作为热备副本。</p><p>可以通过以下命令查看系统中 <code>LocalVolumeReplica</code> 的详细信息：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ kubectl get lvr # or localvolumereplica</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NAME                                              KIND   CAPACITY     NODE        STATE   SYNCED   DEVICE                                                               AGE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pvc-996b05e8-80f2-4240-ace4-5f5f250310e2-v5scm9   LVM    1073741824   k8s-node1   Ready   true     /dev/LocalStorage_PoolHDD/pvc-996b05e8-80f2-4240-ace4-5f5f250310e2   80s</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制到剪切板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>有了卷副本（LocalVolumeReplica）的概念后，HwameiStor 作为一款本地存储系统，具备了一些很有竞争力的特性，例如数据卷的HA，迁移，热备，Kubernetes 应用快速恢复等等。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="总结">总结<a class="hash-link" href="#总结" title="直接链接到标题">​</a></h2><p>其实 <code>LocalVolume</code> 和 <code>LocalVolumeReplica</code> 在很多存储系统中都有引入，是个很通用的概念。只是通过这一概念，实现了各具特色的产品，在解决某个技术难点的时候也可能采取不同的解决方案，因此而适合于不同的生产场景。</p><p>随着 HwameiStor 的迭代和演进，我们将会提供更多的能力，从而适配越来越多的使用场景。无论您是用户还是开发者，欢迎您加入 HwameiStor 的大家庭！</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/cn/blog/tags/hello">hello</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/cn/blog/tags/l-vs">LVs</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/cn/blog/2">HwameiStor Reliable Helper System 开源上线</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-05-19T00:00:00.000Z" itemprop="datePublished">May 19, 2022</time> · <!-- -->3 分钟阅读</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/angel0507" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/39614083?v=4" alt="李洁"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/angel0507" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">李洁</span></a></div><small class="avatar__subtitle" itemprop="description">开发者</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><blockquote><p>今日播报：
独属于系统运维实施人员的自动可靠的云原生本地存储维护系统 — HwameiStor Reliable Helper System 已上线 。</p></blockquote><p><strong>「DaoCloud  道客」正式开源「云原生自动可靠本地存储维护系统HwameiStor Reliable Helper System」</strong>。目前尚在 Alpha 阶段。</p><p>HwameiStor 将 HDD、SSD 和 NVMe 磁盘形成本地存储资源池进行统一管理，而在磁盘作为上层应用使用的底层数据底座，面临自然和人为损坏等风险，因而磁盘运维维护管理系统Reliable Helper System 诞生。</p><p><strong>欢迎广大技术开发者和爱好者前来<a href="https://github.com/hwameistor/reliable-helper-system" target="_blank" rel="noopener noreferrer">试用</a></strong>。</p><p><img loading="lazy" alt="系统架构" src="/cn/assets/images/HwameiStor-replace-disk-arch-c66fff2c76854dc33971e990f2b1b061.jpg" width="792" height="731" class="img_ev3q"></p><p>在云原生时代， 应用开发者可以专注于业务逻辑本身，而应用运行时所需的敏捷性、扩展性、可靠性等，则下沉到基础设施软件和运维团队。<strong>HwameiStor Reliable Helper System 正是满足云原生时代要求的可靠性运维系统，目前支持一键更换磁盘功能</strong>。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="全面增强运维可靠维护系统">全面增强运维可靠维护系统<a class="hash-link" href="#全面增强运维可靠维护系统" title="直接链接到标题">​</a></h2><h2 class="anchor anchorWithStickyNavbar_LWe7" id="可靠一键更换告警提示">可靠、一键更换、告警提示<a class="hash-link" href="#可靠一键更换告警提示" title="直接链接到标题">​</a></h2><ul><li><p>可靠数据迁移及数据回填</p><p>可以通过自动识别raid磁盘与否，进行判断是否需要数据迁移和回填，保障数据可靠性。</p></li><li><p>一键硬盘更换</p><p>通过新旧硬盘唯一uuid来实现一键硬盘更换操作。</p></li><li><p>直观告警提示</p><p>一键换盘过程中，存在换盘异常信息，进行及时预警。</p></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="加入我们">加入我们<a class="hash-link" href="#加入我们" title="直接链接到标题">​</a></h2><p>如果说未来是智能互联时代，那么程序员就是通往未来的领路人，开源社区就是程序员们的 “元宇宙”。</p><p>目前，「HwameiStor 云原生本地储存系统」已经正式在 Github 开源上线，对它感兴趣的话，就来加入我们吧，一起开垦这块属于程序员的 “元宇宙” 新土地，成为未来行道者。</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/cn/blog/tags/hello">hello</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/cn/blog/tags/helpers">Helpers</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/cn/blog/1">自动化、高可用云原生本地存储系统 —— HwameiStor 开源上线</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-04-25T00:00:00.000Z" itemprop="datePublished">April 25, 2022</time> · <!-- -->4 分钟阅读</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/windsonsea" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/windsonsea.png" alt="要海峰"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/windsonsea" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">要海峰</span></a></div><small class="avatar__subtitle" itemprop="description">编辑</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p><img loading="lazy" alt="HwameiStor" src="/cn/assets/images/hwameistor-b1534b2445747773ba035b59d9a2e4d9.png" width="900" height="383" class="img_ev3q"></p><blockquote><p>今日播报：
独属于程序员们的、自由演化的 “元宇宙” 新土地 — HwameiStor 云原生本地存储系统，等你来开垦。</p></blockquote><p><strong>「DaoCloud  道客」正式开源「云原生本地储存系统HwameiStor」</strong>。HwameiStor 将 HDD、SSD 和 NVMe 磁盘形成本地存储资源池进行统一管理，使用 CSI 架构提供分布式的本地数据卷服务，为有状态的云原生应用或组件提供数据持久化能力，<strong>欢迎广大技术开发者和爱好者前去试用</strong>。</p><p><img loading="lazy" alt="系统架构" src="/cn/assets/images/architect-5b800d6ed2893aea97ee9b52dd53a1a2.jpg" width="1080" height="423" class="img_ev3q"></p><p>在云原生时代， 应用开发者可以专注于业务逻辑本身，而应用运行时所需的敏捷性、扩展性、可靠性等，则下沉到基础设施软件和运维团队。<strong>HwameiStor 正是满足云原生时代要求的储存系统。 它具有高可用、自动化、低成本、快速部署、高性能等优点，可以替代昂贵的传统 SAN 存储</strong>。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="智稳敏-全面增强本地存储">智、稳、敏 全面增强本地存储<a class="hash-link" href="#智稳敏-全面增强本地存储" title="直接链接到标题">​</a></h2><ul><li><p>自动化运维管理</p><p>可以自动发现、识别、管理、分配磁盘。 根据亲和性，智能调度应用和数据。自动监测磁盘状态，并及时预警。</p></li><li><p>高可用的数据</p><p>使用跨节点副本同步数据， 实现高可用。发生问题时，会自动将应用调度到高可用数据节点上，保证应用的连续性。</p></li><li><p>丰富的数据卷类型</p><p>聚合 HDD、SSD、NVMe 类型的磁盘，提供非低延时，高吞吐的数据服务。</p></li><li><p>灵活动态的线性扩展</p><p>可以根据集群规模大小进行动态的扩容，灵活满足应用的数据持久化需求。</p></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="丰富应用场景-广泛适配企业需求">丰富应用场景 广泛适配企业需求<a class="hash-link" href="#丰富应用场景-广泛适配企业需求" title="直接链接到标题">​</a></h2><ul><li><p>适配高可用架构中间件</p><p>Kafka、ElasticSearch、Redis等，这类中间件应用自身具备高可用架构，同时对数据的 IO 访问有很高要求。HwameiStor 提供的基于 LVM 的单副本本地数据卷，可以很好地满足它们的要求。</p></li><li><p>为应用提供高可用数据卷</p><p>MySQL 等 OLTP 数据库，要求底层存储提供高可用的数据存储，当发生问题时可快速恢复数据，同时，也要求保证高性能的数据访问。HwameiStor 提供的双副本的高可用数据卷，可以很好地满足此类需求。</p></li><li><p>自动化运维传统存储软件</p><p>MinIO、Ceph 等存储软件，需要使用 Kubernetes 节点上的磁盘，可以采用 PVC/PV 的方式，通过 CSI 驱动自动化地使用 HwameiStor 的单副本本地卷，快速响应业务系统提出的部署、扩容、迁移等需求，实现基于 Kubernetes 的自动化运维。</p></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="加入我们">加入我们<a class="hash-link" href="#加入我们" title="直接链接到标题">​</a></h2><p>如果说未来是智能互联时代，那么程序员就是通往未来的领路人，开源社区就是程序员们的 “元宇宙”。</p><p>目前，「HwameiStor 云原生本地储存系统」已经正式在 Github 开源上线，对它感兴趣的话，就来加入我们吧，一起开垦这块属于程序员的 “元宇宙” 新土地，成为未来行道者。</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/cn/blog/tags/hello">hello</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/cn/blog/tags/hwamei-stor">HwameiStor</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/cn/blog/welcome">Welcome</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-04-22T00:00:00.000Z" itemprop="datePublished">April 22, 2022</time> · <!-- -->一分钟阅读</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/windsonsea" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/windsonsea.png" alt="要海峰"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/windsonsea" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">要海峰</span></a></div><small class="avatar__subtitle" itemprop="description">编辑</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>Welcome to the Hwameistor blog space.</p><p>Here you can keep up with the progress of the Hwameistor open source project and recent hot topics.</p><p>We also plan to include release notes for major releases, guidance articles, community-related events, and possibly some development tips, and interesting topics within the team.</p><p>If you are interested in contributing to this open source project and would like to join the discussion or make some guest blog posts, please contact us.</p><p>GitHub address is: <a href="https://github.com/hwameistor" target="_blank" rel="noopener noreferrer">https://github.com/hwameistor</a></p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/cn/blog/tags/hello">hello</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/cn/blog/tags/hwameistor">Hwameistor</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="浏览博客列表"></nav></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">文档</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/cn/docs/intro">文档</a></li></ul></div><div class="col footer__col"><div class="footer__title">社区</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/hwameistor/hwameistor" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">更多</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/cn/blog">Blog</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">版权所有 © 2022 HwameiStor, 上海道客网络科技有限公司.</div></div></div></footer></div>
<script src="/cn/assets/js/runtime~main.726cb8cd.js"></script>
<script src="/cn/assets/js/main.15923e63.js"></script>
</body>
</html>